<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Function Transformation</title><link rel="stylesheet" href="../../book.css">
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js" integrity="sha384-zbcZAIxlvJtNE3Dp5nxLXdXtXyxwOdnILY1TDPVmKFhl4r4nSUG1r8bcFXGVa4Te" crossorigin="anonymous"></script>
    <script src="../../static/katex/katex.min.js"></script>
    <script src="../../static/math.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../-verso-js/popper.js"></script>
    <script src="../../-verso-js/tippy.js"></script>
    <link rel="stylesheet" href="../../static/theme.css">
    <link rel="stylesheet" href="../../static/inter/inter.css">
    <link rel="stylesheet" href="../../static/firacode/fira_code.css">
    <link rel="stylesheet" href="../../static/katex/katex.min.css">
    <link rel="stylesheet" href="../../-verso-css/tippy-border.css">
    <style>
div.collapsible-hint {
  margin: 5px 0;
}

div.collapsible-hint-header {
  padding: 2px;
  font-size: medium;
  cursor: pointer;
  position: relative;
}

div.collapsible-hint-header::after {
  content: "⊢";
  position: absolute;
  left: 50px;
  transition: transform 0.3s ease;
}

div.collapsible-hint-content {
  border: 1px solid white;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

div.collapsible-hint.expanded .collapsible-hint-content {
  max-height: 500px; /* Adjust this value depending on the content's height */
  border: 1px solid lightgrey;
}

div.collapsible-hint.expanded .collapsible-hint-header::after {
  transform: rotate(90deg); /* Rotate to show ">" when expanded */
}
</style><style>

.hl.lean {
  white-space: pre;
  font-weight: normal;
  font-style: normal;
}

.hl.lean .keyword {
  font-weight : bold;
}

.hl.lean .var {
  font-style: italic;
  position: relative;
}

.hover-container {
  width: 0;
  height: 0;
  position: relative;
  display: inline;
}

.hl.lean .hover-info {
  white-space: normal;
}

.hl.lean .token .hover-info {
  display: none;
  position: absolute;
  background-color: #e5e5e5;
  border: 1px solid black;
  padding: 0.5em;
  z-index: 300;
  font-size: inherit;
}

.hl.lean .hover-info.messages {
  max-height: 10em;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-gutter: stable;
  padding: 0 0.5em 0 0;
  display: block;
}

.hl.lean .hover-info code {
  white-space: pre-wrap;
}

.hl.lean .hover-info.messages > code {
  padding: 0.5em;
  display: block;
  width: fit-content;
}

.hl.lean .hover-info.messages > code:only-child {
  margin: 0;
}

.hl.lean .hover-info.messages > code {
  margin: 0.1em;
}

.hl.lean .hover-info.messages > code:not(:first-child) {
  margin-top: 0em;
}

/*
@media (hover: hover) {
  .hl.lean .has-info:hover > .hover-container > .hover-info:not(.tactic *),
  .hl.lean .tactic:has(> .tactic-toggle:checked) .has-info:hover > .hover-container > .hover-info,
  .hl.lean .token:hover > .hover-container > .hover-info:not(.has-info *):not(.tactic *),
  .hl.lean .tactic:has(> .tactic-toggle:checked) .token:hover > .hover-container > .hover-info:not(.has-info *) {
    display: inline-block;
    position: absolute;
    top: 1em;
    font-weight: normal;
    font-style: normal;
    width: min-content;
  }
}
*/

.hl.lean.block {
  display: block;
}

.hl.lean.inline {
  display: inline;
}

.hl.lean .token {
  transition: all 0.25s; /* Slight fade for highlights */
}

@media (hover: hover) {
  .hl.lean .token.binding-hl, .hl.lean .literal.string:hover {
    background-color: #eee;
    border-radius: 2px;
    transition: none;
  }
}


.hl.lean .has-info {
  text-decoration-style: wavy;
  text-decoration-line: underline;
  text-decoration-thickness: 0.1rem;
}

.hl.lean .has-info .hover-info {
  display: none;
  position: absolute;
  transform: translate(0.25rem, 0.3rem);
  border: 1px solid black;
  padding: 0.5em;
  z-index: 400;
  text-align: left;
}

.hl.lean .has-info.error {
  text-decoration-color: red;
}

@media (hover: hover) {
  .hl.lean .has-info.error:hover {
    background-color: #ffb3b3;
  }
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2em solid #ffb3b3;
}

.tippy-box[data-theme~='error'] .hl.lean .hover-info.messages > code.error {
  background: none;
  border: none;
}

.error pre {
    color: red;
}

.hl.lean .has-info.warning {
  text-decoration-color: #efd871;
}

@media (hover: hover) {
  .hl.lean .has-info.warning:hover {
    background-color: #efd871;
  }
}

.hl.lean .hover-info.messages > code.warning {
  background-color: #efd871;
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2em solid #efd871;
}

.tippy-box[data-theme~='warning'] .hl.lean .hover-info.messages > code.warning {
  background: none;
  border: none;
}


.hl.lean .has-info.info {
  text-decoration-color: blue;
}

@media (hover: hover) {
  .hl.lean .has-info.info:hover {
    background-color: #4777ff;
  }
}


.hl.lean .hover-info.messages > code.info {
  background-color: #e5e5e5;
  border-left: 0.2em solid #4777ff;
}

.tippy-box[data-theme~='info'] .hl.lean .hover-info.messages > code.info {
  background: none;
  border: none;
}

.hl.lean div.docstring {
  font-family: sans-serif;
  white-space: normal;
  max-width: 40em;
  width: max-content;
}

.hl.lean div.docstring > :last-child {
  margin-bottom: 0;
}

.hl.lean .hover-info .sep {
  display: block;
  width: auto;
  margin-left: 1em;
  margin-right: 1em;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  padding: 0;
  height: 1px;
  border-top: 1px solid #ccc;
}

.hl.lean code {
  font-family: monospace;
}

.hl.lean .tactic-state {
  display: none;
  position: relative;
  left: 2em;
  width: fit-content;
  border: 1px solid #888888;
  border-radius: 0.1em;
  padding: 0.5em;
  font-family: sans-serif;
  background-color: #ffffff;
  z-index: 200;
}

.hl.lean.popup .tactic-state {
  position: static;
  display: block;
  width: auto;
  border: none;
  padding: 0.5em;
  font-family: sans-serif;
  background-color: #ffffff;
}


.hl.lean .tactic {
  position: relative;
}

.hl.lean .tactic-toggle:checked ~ .tactic-state {
  display: block;
}

/*
@media (hover: hover) {
  .hl.lean .tactic:hover > .tactic-toggle:not(:checked) ~ .tactic-state {
    display: block;
    position: absolute;
    left: 0;
    transform: translate(0.25rem, 0);
    z-index: 250;
  }
}
*/

.hl.lean .tactic > label {
  position: relative;
  transition: all 0.5s;
}

@media (hover: hover) {
  .hl.lean .tactic > label:hover {
    border-bottom: 1px dotted #bbbbbb;
  }
}

.hl.lean .tactic-toggle {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .tactic > label::after {
  content: "";
  border: 1px solid #bbbbbb;
  border-radius: 1em;
  height: 0.25em;
  vertical-align: middle;
  width: 0.6em;
  margin-left: 0.1em;
  margin-right: 0.1em;
  display: inline-block;
  transition: all 0.5s;
}

/*
@media (hover: hover) {
  .hl.lean .tactic > label:hover::after {
    border: 1px solid #aaaaaa;
    background-color: #aaaaaa;
    transition: all 0.5s;
  }
}
*/

.hl.lean .tactic > label:has(+ .tactic-toggle:checked)::after {
  border: 1px solid #999999;
  background-color: #999999;
  transition: all 0.5s;
}

.hl.lean .tactic-state .goal + .goal {
  margin-top: 1.5em;
}

.hl.lean .tactic-state summary {
  margin-left: -0.5em;
}

.hl.lean .tactic-state details {
  padding-left: 0.5em;
}

.hl.lean .tactic-state .goal-name::before {
  font-style: normal;
  content: "case ";
}

.hl.lean .tactic-state .goal-name {
  font-style: italic;
  font-family: monospace;
}

.hl.lean .tactic-state .hypotheses td.colon {
  text-align: center;
  min-width: 1em;
}

.hl.lean .tactic-state .hypotheses td.name {
  text-align: right;
}

.hl.lean .tactic-state .hypotheses td.name,
.hl.lean .tactic-state .hypotheses td.type,
.hl.lean .tactic-state .conclusion .type {
  font-family: monospace;
}

.tippy-box[data-theme~='lean'] {
  background-color: #e5e5e5;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='lean'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
}

.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::after {
  bottom: -11px;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::before {
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::after {
  top: -11px;
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
  border-width: 11px 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::after {
  right: -11px;
  border-width: 11px 0 11px 11px;
}

.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
  border-width: 11px 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::after {
  left: -11px;
  border-width: 11px 11px 11px 0;
}



.tippy-box[data-theme~='warning'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #efd871;
}

.tippy-box[data-theme~='error'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #f7a7af;
}

.tippy-box[data-theme~='info'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #99b3c2;
}



.tippy-box[data-theme~='tactic'] {
  background-color: white;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='tactic'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: white;
}

</style><style>
div.TODO {
  border: 5px solid red;
  position: relative;
}
div.TODO::before {
  content: "TODO";
  position: absolute;
  top: 0;
  right: 0;
  color: red;
  font-size: large;
  font-weight: bold;
  transform: rotate(-90deg) translate(-2em);
}
</style><style>
div.collapsible {
  margin: 5px 0;
}

div.collapsible-header {
  padding: 2px;
  font-size: medium;
  cursor: pointer;
  position: relative;
}

div.collapsible-header::after {
  content: "⊢";
  position: absolute;
  left: 60px;
  transition: transform 0.3s ease;
}

div.collapsible-content {
  border: 1px solid white;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

div.collapsible.expanded .collapsible-content {
  max-height: 500px; /* Adjust this value depending on the content's height */
  border: 1px solid lightgrey;
}

div.collapsible.expanded .collapsible-header::after {
  transform: rotate(90deg); /* Rotate to show ">" when expanded */
}
</style><script>
      
window.onload = () => {

    // Don't show hovers inside of closed tactic states
    function blockedByTactic(elem) {
      let parent = elem.parentNode;
      while (parent && "classList" in parent) {
        if (parent.classList.contains("tactic")) {
          const toggle = parent.querySelector("input.tactic-toggle");
          if (toggle) {
            return !toggle.checked;
          }
        }
        parent = parent.parentNode;
      }
      return false;
    }

    function blockedByTippy(elem) {
      // Don't show a new hover until the old ones are all closed.
      // Scoped to the nearest "top-level block" to avoid being O(n) in the size of the document.
      var block = elem;
      const topLevel = new Set(["section", "body", "html", "nav", "header"]);
      while (block.parentNode && !topLevel.has(block.parentNode.nodeName.toLowerCase())) {
        block = block.parentNode;
      }
      for (const child of block.querySelectorAll(".token, .has-info")) {
        if (child._tippy && child._tippy.state.isVisible) { return true };
      }
      return false;
    }

    for (const c of document.querySelectorAll(".hl.lean .token")) {
        if (c.dataset.binding != "") {
            c.addEventListener("mouseover", (event) => {
                if (blockedByTactic(c)) {return;}
                const context = c.closest(".hl.lean").dataset.leanContext;
                for (const example of document.querySelectorAll(".hl.lean")) {
                    if (example.dataset.leanContext == context) {
                        for (const tok of example.querySelectorAll(".token")) {
                            if (c.dataset.binding == tok.dataset.binding) {
                                tok.classList.add("binding-hl");
                            }
                        }
                    }
                }
            });
        }
        c.addEventListener("mouseout", (event) => {
            for (const tok of document.querySelectorAll(".hl.lean .token")) {
                tok.classList.remove("binding-hl");
            }
        });
    }
    /* Render docstrings */
    if ('undefined' !== typeof marked) {
        for (const d of document.querySelectorAll("code.docstring, pre.docstring")) {
            const str = d.innerText;
            const html = marked.parse(str);
            const rendered = document.createElement("div");
            rendered.classList.add("docstring");
            rendered.innerHTML = html;
            d.parentNode.replaceChild(rendered, d);
        }
    }
    // Add hovers
    fetch("/-verso-docs.json").then((resp) => resp.json()).then((versoDocData) => {

      const defaultTippyProps = {
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        theme: "lean",
        maxWidth: "none",
        appendTo: () => document.body,
        interactive: true,
        delay: [100, null],
        ignoreAttributes: true,
        onShow(inst) {
          if (inst.reference.querySelector(".hover-info") || "versoHover" in inst.reference.dataset) {
            if (blockedByTactic(inst.reference)) { return false };
            if (blockedByTippy(inst.reference)) { return false; }
          } else { // Nothing to show here!
            return false;
          }
        },
        content (tgt) {
          const content = document.createElement("span");
          content.className = "hl lean";
          content.style.display = "block";
          content.style.maxHeight = "300px";
          content.style.overflowY = "auto";
          content.style.overflowX = "hidden";
          const hoverId = tgt.dataset.versoHover;
          const hoverInfo = tgt.querySelector(".hover-info");
          if (hoverId) { // Docstrings from the table
            // TODO stop doing an implicit conversion from string to number here
            let data = versoDocData[hoverId];
            if (data) {
              const info = document.createElement("span");
              info.className = "hover-info";
              info.style.display = "block";
              info.innerHTML = data;
              content.appendChild(info);
              /* Render docstrings - TODO server-side */
              if ('undefined' !== typeof marked) {
                  for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
                      const str = d.innerText;
                      const html = marked.parse(str);
                      const rendered = document.createElement("div");
                      rendered.classList.add("docstring");
                      rendered.innerHTML = html;
                      d.parentNode.replaceChild(rendered, d);
                  }
              }
            } else {
              content.innerHTML = "Failed to load doc ID: " + hoverId;
            }
          } else if (hoverInfo) { // The inline info, still used for compiler messages
            content.appendChild(hoverInfo.cloneNode(true));
          }
          return content;
        }
      };

      const addTippy = (selector, props) => {
        tippy(selector, Object.assign({}, defaultTippyProps, props));
      };
      addTippy('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token', {theme: 'lean'});
      addTippy('.hl.lean .has-info.warning', {theme: 'warning message'});
      addTippy('.hl.lean .has-info.info', {theme: 'info message'});
      addTippy('.hl.lean .has-info.error', {theme: 'error message'});

      tippy('.hl.lean .tactic', {
        allowHtml: true,
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        maxWidth: "none",
        onShow(inst) {
          const toggle = inst.reference.querySelector("input.tactic-toggle");
          if (toggle && toggle.checked) {
            return false;
          }
          if (blockedByTippy(inst.reference)) { return false; }
        },
        theme: "tactic",
        placement: 'bottom-start',
        content (tgt) {
          const content = document.createElement("span");
          const state = tgt.querySelector(".tactic-state").cloneNode(true);
          state.style.display = "block";
          content.appendChild(state);
          content.style.display = "block";
          content.className = "hl lean popup";
          return content;
        }
      });
  });
}
</script>
    </head>
  <body>
    <div class="with-toc">
      <header>
        <h1>
          <a href="../../">Scientific Computing in Lean</a></h1>
        <div id="controls">
          <label for="toggle-toc" id="toggle-toc-click">📖</label></div>
        <div id="print">
          <span>🖨</span></div>
        </header>
      <nav id="toc">
        <input type="checkbox" id="toggle-toc" checked="checked"><ol>
          <li>
            <a href="../../Introduction#Scientific-Computing-in-Lean--Introduction">Introduction</a><ol>
              <li>
                <a href="../../Introduction/About#Scientific-Computing-in-Lean--Introduction--About">About</a></li>
              <li>
                <a href="../../Introduction/Introduction#Scientific-Computing-in-Lean--Introduction--Introduction">Introduction</a><ol>
                  <li>
                    <a href="../../Introduction/Introduction#Scientific-Computing-in-Lean--Introduction--Introduction--Why-Lean-for-Scientific-Computing">Why Lean for Scientific Computing?</a></li>
                  </ol>
                </li>
              </ol>
            </li>
          <li>
            <a href="../../Working-with-Arrays#Scientific-Computing-in-Lean--Working-with-Arrays">Working with Arrays</a><ol>
              <li>
                <a href="../../Working-with-Arrays/Basic-Operations#Scientific-Computing-in-Lean--Working-with-Arrays--Basic-Operations">Basic Operations</a><ol>
                  <li>
                    <a href="../../Working-with-Arrays/Basic-Operations#Scientific-Computing-in-Lean--Working-with-Arrays--Basic-Operations--Reshaping-Arrays">Reshaping Arrays</a></li>
                  <li>
                    <a href="../../Working-with-Arrays/Basic-Operations#Scientific-Computing-in-Lean--Working-with-Arrays--Basic-Operations--Exercises">Exercises</a></li>
                  </ol>
                </li>
              <li>
                <a href="../../Working-with-Arrays/Tensor-Operations#Scientific-Computing-in-Lean--Working-with-Arrays--Tensor-Operations">Tensor Operations</a><ol>
                  <li>
                    <a href="../../Working-with-Arrays/Tensor-Operations#Scientific-Computing-in-Lean--Working-with-Arrays--Tensor-Operations--Transformations-and-Reductions">Transformations and Reductions</a></li>
                  <li>
                    <a href="../../Working-with-Arrays/Tensor-Operations#Scientific-Computing-in-Lean--Working-with-Arrays--Tensor-Operations--Convolution-and-Operations-on-Indices">Convolution and Operations on Indices</a></li>
                  <li>
                    <a href="../../Working-with-Arrays/Tensor-Operations#Scientific-Computing-in-Lean--Working-with-Arrays--Tensor-Operations--Pooling-and-Difficulties-with-Dependent-Types">Pooling and Difficulties with Dependent Types</a></li>
                  <li>
                    <a href="../../Working-with-Arrays/Tensor-Operations#Scientific-Computing-in-Lean--Working-with-Arrays--Tensor-Operations--Simple-Neural-Network">Simple Neural Network</a></li>
                  </ol>
                </li>
              <li>
                <a href="../../Working-with-Arrays/Optimizing-Array-Expressions#Scientific-Computing-in-Lean--Working-with-Arrays--Optimizing-Array-Expressions">Optimizing Array Expressions</a><ol>
                  <li>
                    <a href="../../Working-with-Arrays/Optimizing-Array-Expressions#Scientific-Computing-in-Lean--Working-with-Arrays--Optimizing-Array-Expressions--Loop-Fusion">Loop Fusion</a></li>
                  <li>
                    <a href="../../Working-with-Arrays/Optimizing-Array-Expressions#Scientific-Computing-in-Lean--Working-with-Arrays--Optimizing-Array-Expressions--Optimizing-Array-Indexing">Optimizing Array Indexing</a></li>
                  </ol>
                </li>
              </ol>
            </li>
          <li>
            <a href="../../-Differentiation#Scientific-Computing-in-Lean---Differentiation">🚧 Differentiation</a><ol>
              <li>
                <a href="../../-Differentiation/Symbolic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Symbolic-Differentiation">Symbolic Differentiation</a><ol>
                  <li>
                    <a href="../../-Differentiation/Symbolic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Symbolic-Differentiation--Notation">Notation</a></li>
                  <li>
                    <a href="../../-Differentiation/Symbolic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Symbolic-Differentiation--Examples">Examples</a></li>
                  <li>
                    <a href="../../-Differentiation/Symbolic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Symbolic-Differentiation--Gradient">Gradient</a></li>
                  <li>
                    <a href="../../-Differentiation/Symbolic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Symbolic-Differentiation--Derivative-Rules">Derivative Rules</a></li>
                  <li>
                    <a href="../../-Differentiation/Symbolic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Symbolic-Differentiation--Differentiating-Division-Log-Sqrt-">Differentiating Division, Log, Sqrt, ...</a></li>
                  <li>
                    <a href="../../-Differentiation/Symbolic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Symbolic-Differentiation--Abstract-Vector-Spaces">Abstract Vector Spaces</a></li>
                  </ol>
                </li>
              <li>
                <a href="../../-Differentiation/Automatic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Automatic-Differentiation">Automatic Differentiation</a><ol>
                  <li>
                    <a href="../../-Differentiation/Automatic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Automatic-Differentiation--Forward-Mode">Forward Mode</a></li>
                  <li>
                    <a href="../../-Differentiation/Automatic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Automatic-Differentiation--Reverse-Mode">Reverse Mode</a></li>
                  <li>
                    <a href="../../-Differentiation/Automatic-Differentiation#Scientific-Computing-in-Lean---Differentiation--Automatic-Differentiation--Derivatives-of-Neural-Network-Layers">Derivatives of Neural Network Layers</a></li>
                  </ol>
                </li>
              <li>
                <a href="../../-Differentiation/Function-Transformation#Scientific-Computing-in-Lean---Differentiation--Function-Transformation">Function Transformation</a><ol>
                  <li>
                    <a href="../../-Differentiation/Function-Transformation#Scientific-Computing-in-Lean---Differentiation--Function-Transformation--User-Defined-Function-Transformation">User Defined Function Transformation</a></li>
                  <li>
                    <a href="../../-Differentiation/Function-Transformation#Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Lambda-Theorems">Lambda Theorems</a></li>
                  <li>
                    <a href="../../-Differentiation/Function-Transformation#Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Function-Theorems">Function Theorems</a></li>
                  <li>
                    <a href="../../-Differentiation/Function-Transformation#Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Free-Variable-Theorems">Free Variable Theorems</a></li>
                  <li>
                    <a href="../../-Differentiation/Function-Transformation#Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Morphism-Theorems">Morphism Theorems</a></li>
                  <li>
                    <a href="../../-Differentiation/Function-Transformation#Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Advanced-Function-Theorems">Advanced Function Theorems</a></li>
                  </ol>
                </li>
              </ol>
            </li>
          <li>
            <a href="../../Examples#Scientific-Computing-in-Lean--Examples">Examples</a><ol>
              <li>
                <a href="../../Examples/Harmonic-Oscillator#Scientific-Computing-in-Lean--Examples--Harmonic-Oscillator">Harmonic Oscillator</a></li>
              </ol>
            </li>
          </ol>
        </nav>
      <main><section>
          <h1>
            Function Transformation</h1>
          <p>
            In this chapter we will look under the lid of the tactic <code>fun_trans</code>, a tactic for general function transformation. Explain the main idea behind it, how to define your own function transformations and how does it work internally.</p>
          <p>
            Note: One of the main inspiration is Google JAX which is descibed as: "Google JAX is a machine learning framework for transforming numerical functions." </p>
          <p>
            So far we have encoutered couple of function transfomations <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fderiv" data-verso-hover="229">fderiv</span></code>, <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-SciLean.fwdFDeriv" data-verso-hover="361">fwdFDeriv</span></code>, <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-SciLean.revFDeriv" data-verso-hover="370">revFDeriv</span></code>, <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-adjoint" data-verso-hover="272">adjoint</span></code>. In general, function transformation should be a higher order function <code>F</code> taking a function and producing a function that should satisfy</p>
          <p>
            $$F(f \circ g) = F(f) \circ F(g)
$$</p>
          <p>
            where the composition \( \circ \) should be some kind of generalized composition.</p>
          <p>
            Examples of composition rules for function transformations we have see so far</p>
          <pre>      (∂ (f ∘ g) x dx) = (∂ f (g x) (∂ g x dx))

     (∂&gt; (f ∘ g) x dx) = let (y,dy) := ∂&gt; g x dx
                         (∂&gt; f y dy)

        (&lt;∂ (f ∘ g) x) = let (y,dg) := &lt;∂ g x; 
                         let (z,df) := &lt;∂ f y; 
                         (z, dg ∘ df)

     adjoint ℝ (A ∘ B) = adjoint ℝ B ∘ adjoint ℝ A
</pre><p>
            Also <code>F</code> should preserve identity</p>
          <p>
            $$F(\text{id}) = \text{id}
$$</p>
          <p>
            where \( \text{id} \) is some generalized notion of identity function</p>
          <p>
            Examples of identity rules for function transformations we have see so far</p>
          <pre>  (fderiv ℝ (fun x : ℝ =&gt; x)) = (fun _ =&gt; fun dx =&gt;L[ℝ] dx)

        (∂&gt; (fun x : ℝ =&gt; x)) = fun x dx =&gt; (x,dx)

        (&lt;∂ (fun x : ℝ =&gt; x)) = fun x =&gt; (x, fun dx =&gt; dx)

 (adjoint ℝ (fun x : ℝ =&gt; x)) = fun x =&gt; x
</pre><p>
            (Note: If you are familiar with category theorey then <code>F</code> is often a functor. For example <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fderiv" data-verso-hover="229">fderiv</span></code> is not really a functor yet it still fits into SciLean's function transformation framework. 
This categorical viewpoint on automatic differentiation is inspired by the paper <a href="https://arxiv.org/abs/1804.00746">The simple essence of automatic differentiation</a>)</p>
          <section>
            <h2 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--User-Defined-Function-Transformation">
              User Defined Function Transformation</h2>
            <p>
              Let's demonstrate <code>fun_trans</code> capability by defining a slight variant of forward mode derivative</p>
            <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.noncomputable-2835">noncomputable</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-2849">def</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span><span class="unknown token" data-binding="">×</span><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span><span class="unknown token" data-binding="">×</span><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> <span class="unknown token" data-binding="">:=</span> 
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-2900">fun</span> <span class="var token" data-binding="var-_uniq.479" data-verso-hover="372">xdx</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.479" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">,</span> <span class="const token" data-binding="const-fderiv" data-verso-hover="229">fderiv</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.479" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span> <span class="var token" data-binding="var-_uniq.479" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><p>
              The only difference is that <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></code> is uncurried version of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-SciLean.fwdFDeriv" data-verso-hover="361">fwdFDeriv</span></code>.</p>
            <p>
              My marking the definition with <code>@[fun_trans]</code> attribute we let Lean know that it is a function transformation. For <code>fun_trans</code> to work properly with this newly defined function transformation we have to state its transformation rules/theorems. There are couple types</p>
            <ol start="1">
              <li>
                <p>
                  Lambda theorems.
  Theorems about basic lambda terms like indentity <code>fun x =&gt; x</code>, constant <code>fun x =&gt; y</code>, composition <code>fun x =&gt; f (g x)</code> and few more.</p>
                </li>
              <li>
                <p>
                  Function theorems.
  Theorems about functions like addition, multiplication etc.</p>
                </li>
              <li>
                <p>
                  Free variable theorems.
  These theorems usually state a transformation rule under some special condition. Like derivative of linear function is the function itself.</p>
                </li>
              <li>
                <p>
                  Morphism theorems.
  Theorems about bundled morphisms. These are very special theorems that </p>
                </li>
              </ol>
            </section>
          <section>
            <h2 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Lambda-Theorems">
              Lambda Theorems</h2>
            <p>
              The tactic <code>fun_trans</code> transforms a complicated functions by first decomposing them into a sequence of function compositions and then transforms each of those function separetely. For example when we want to transform function <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-4107">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2004" data-verso-hover="230">x</span> <span class="unknown token" data-binding="">:</span> <span class="unknown token" data-binding="">ℝ</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">*</span><span class="var token" data-binding="var-_uniq.2004" data-verso-hover="230">x</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.2004" data-verso-hover="230">x</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">^</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span></code> then <code>fun_trans</code> effectivelly rewrites it as</p>
            <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.example-4193">example</span> <span class="unknown token" data-binding="">:</span>
  <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-4206">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="230">x</span> <span class="unknown token" data-binding="">:</span> <span class="unknown token" data-binding="">ℝ</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">*</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="230">x</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="230">x</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">^</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span>
  <span class="unknown token" data-binding="">=</span>
  <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-4245">fun</span> <span class="var token" data-binding="var-_uniq.690" data-verso-hover="230">x</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.690" data-verso-hover="230">x</span><span class="unknown token" data-binding="">^</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">∘</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-4264">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1052" data-verso-hover="230">x</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.1053" data-verso-hover="230">y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="230">x</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.1053" data-verso-hover="230">y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">∘</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-4289">fun</span> <span class="var token" data-binding="var-_uniq.759" data-verso-hover="230">x</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">*</span><span class="var token" data-binding="var-_uniq.759" data-verso-hover="230">x</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.759" data-verso-hover="230">x</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-3787236907528843577-4310-4312"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-4310" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3787236907528843577-4310-4312"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="373">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type ?u.5</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁶</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="373">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="376">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type ?u.11</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝⁵</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="376">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="373">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="376">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="378">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type ?u.170</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="378">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="373">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="378">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.317" data-verso-hover="380">Z</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type ?u.319</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.320" data-verso-hover="381">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.317" data-verso-hover="380">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.463" data-verso-hover="382">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="373">R</span> <span class="var token" data-binding="var-_uniq.317" data-verso-hover="380">Z</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1492" data-verso-hover="230">x</span> =&gt; (2<span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="var token" data-binding="var-_uniq.1492" data-verso-hover="230">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.1492" data-verso-hover="230">x</span>)<span class="const token" data-binding="const-HPow.hPow" data-verso-hover="232"> ^ </span>2)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> =
  </span>(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1539" data-verso-hover="230">x</span> =&gt; <span class="var token" data-binding="var-_uniq.1539" data-verso-hover="230">x</span><span class="const token" data-binding="const-HPow.hPow" data-verso-hover="232"> ^ </span>2)<span class="const token" data-binding="const-Function.comp" data-verso-hover="363"> ∘
    </span>(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1548" data-verso-hover="234">x</span> =&gt;
        <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.1548" data-verso-hover="234">x</span> <span class="keyword token" data-binding="">with</span>
        | (<span class="var token" data-binding="var-_uniq.1562" data-verso-hover="230">x</span>, <span class="var token" data-binding="var-_uniq.1563" data-verso-hover="230">y</span>) =&gt; <span class="var token" data-binding="var-_uniq.1551" data-verso-hover="230">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.1552" data-verso-hover="230">y</span>)<span class="const token" data-binding="const-Function.comp" data-verso-hover="363"> ∘
      </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1569" data-verso-hover="230">x</span> =&gt; (2<span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="var token" data-binding="var-_uniq.1569" data-verso-hover="230">x</span>, <span class="var token" data-binding="var-_uniq.1569" data-verso-hover="230">x</span>)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-7-4313-4316"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticRfl-4313" data-verso-hover="276">rfl</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-4313-4316"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code><p>
              Therefore <code>fun_trans</code> needs to know how to handle transfoming composition but also to transform <code>(fun x =&gt; (2*x,x))</code> it ineeds to know how to transform pairing of two functions <code>fun x =&gt; 2*x</code> and <code>fun x =&gt; x</code>. </p>
            <p>
              Lambda theorems are responsible for reducing the problem of transforming function like <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-4628">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2755" data-verso-hover="230">x</span> <span class="unknown token" data-binding="">:</span> <span class="unknown token" data-binding="">ℝ</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">*</span><span class="var token" data-binding="var-_uniq.2755" data-verso-hover="230">x</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.2755" data-verso-hover="230">x</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">^</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span></code> into transformation of all the elementary functions <code>(fun x =&gt; x^2)</code>, <code>(fun (x,y) =&gt; x+y)</code> and <code>(fun x =&gt; 2*x)</code>. Those are handled by function theorems and we will talk about those a bit later.</p>
            <p>
              There are six basic lambda theorems saying how lambda terms are transformed</p>
            <ol start="1">
              <li>
                <p>
                  Identity rule for transforming <code>fun (x : X) =&gt; x</code></p>
                </li>
              <li>
                <p>
                  Constant rule for transforming <code>fun (x : X) =&gt; y</code></p>
                </li>
              <li>
                <p>
                  Composition rule for transforming <code>fun (x : X) =&gt; f (g x)</code></p>
                </li>
              <li>
                <p>
                  Let rule for transforming <code>fun (x : X) =&gt; let y := g x; f x y</code></p>
                </li>
              <li>
                <p>
                  Apply rule for transforming <code>fun (f : X → Y) =&gt; f x</code></p>
                </li>
              <li>
                <p>
                  Pi rule for transforming <code>fun (x : X) (y : Y) =&gt; f x y</code></p>
                </li>
              </ol>
            <p>
              There are also three theorems about product type which technically speaking fall under the category of "function theorems" but they are so fundamental that we list them here</p>
            <ol start="7">
              <li>
                <p>
                  Product rule for transforming <code>fun (x : X) =&gt; (f x, g x)</code></p>
                </li>
              <li>
                <p>
                  First projection rule for transforming <code>fun (xy : X×Y) =&gt; xy.1</code></p>
                </li>
              <li>
                <p>
                  Second projection rule for transforming <code>fun (xy : X×Y) =&gt; xy.2</code></p>
                </li>
              </ol>
            <p>
              The collection of these theorems allows <code>fun_trans</code> to transform any complicated lambda expression if it can transform all the atomic functions in the lambda expression.</p>
            <p>
              Let us give an example of few lambda theorems for <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></code></p>
            <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-5907">theorem</span> <span class="const token" data-binding="const-fwdFDeriv'.id_rule" data-verso-hover="383">fwdFDeriv'.id_rule</span> <span class="unknown token" data-binding="">:</span> 
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-5955">fun</span> <span class="var token" data-binding="var-_uniq.477" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="134">X</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.477" data-verso-hover="271">x</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-5973">fun</span> <span class="var token" data-binding="var-_uniq.513" data-verso-hover="372">xdx</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.513" data-verso-hover="372">xdx</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-3302933467757725701-5991-5993"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-5991" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3302933467757725701-5991-5993"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="134">X</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="271">x</span>)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1054" data-verso-hover="372">xdx</span> =&gt; <span class="var token" data-binding="var-_uniq.1054" data-verso-hover="372">xdx</span></span></span></div></div></span>
  <span class="tactic"><label for="tactic-state-10969907000935811998-5996-6013"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-5996" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-10969907000935811998-5996-6013"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="134">X</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1050" data-verso-hover="372">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1056" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.1056" data-verso-hover="271">x</span>) <span class="var token" data-binding="var-_uniq.1050" data-verso-hover="372">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.1057" data-verso-hover="271">x</span>:=<span class="var token" data-binding="var-_uniq.1050" data-verso-hover="372">xdx</span>.1), <span class="var token" data-binding="var-_uniq.1057" data-verso-hover="271">x</span>) <span class="var token" data-binding="var-_uniq.1050" data-verso-hover="372">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1059" data-verso-hover="372">xdx</span> =&gt; <span class="var token" data-binding="var-_uniq.1059" data-verso-hover="372">xdx</span></span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-6015-6024"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-6015">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-6015-6024"><div class="tactic-state">All goals completed! 🐙</div></span>

<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-6026">theorem</span> <span class="const token" data-binding="const-fwdFDeriv'.comp_rule" data-verso-hover="384">fwdFDeriv'.comp_rule</span> 
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.1366" data-verso-hover="136">Z</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span><span class="unknown token" data-binding="">)</span> 
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1614" data-verso-hover="386">hf</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1658" data-verso-hover="387">hg</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span> 
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-6166">fun</span> <span class="var token" data-binding="var-_uniq.1672" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.1672" data-verso-hover="271">x</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> 
    <span class="unknown token" data-binding="">=</span> 
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-6200">fun</span> <span class="var token" data-binding="var-_uniq.1707" data-verso-hover="388">xdx</span> <span class="unknown token" data-binding="">=&gt;</span> 
      <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-6218" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.2001" data-verso-hover="389">ydy</span> <span class="unknown token" data-binding="">:=</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.1707" data-verso-hover="388">xdx</span>
      <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span> <span class="var token" data-binding="var-_uniq.2001" data-verso-hover="389">ydy</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-3819627641267567607-6276-6278"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-6276" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3819627641267567607-6276-6278"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1055" data-verso-hover="374">inst✝⁶</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_4</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1061" data-verso-hover="273">inst✝⁵</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1214" data-verso-hover="377">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1220" data-verso-hover="352">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1363" data-verso-hover="379">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1366" data-verso-hover="136">Z</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1369" data-verso-hover="381">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1366" data-verso-hover="136">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1512" data-verso-hover="382">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1366" data-verso-hover="136">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span> → <span class="var token" data-binding="var-_uniq.1366" data-verso-hover="136">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span> → <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1614" data-verso-hover="386">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1658" data-verso-hover="387">hg</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.4419" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span> (<span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.4419" data-verso-hover="271">x</span>))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="372">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.4421" data-verso-hover="389">ydy</span> := <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="372">xdx</span>;
  <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span> <span class="var token" data-binding="var-_uniq.4421" data-verso-hover="389">ydy</span></span></span></div></div></span>
  <span class="tactic"><label for="tactic-state-2954000189763593581-6281-6298"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-6281" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-2954000189763593581-6281-6298"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1055" data-verso-hover="374">inst✝⁶</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_4</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1061" data-verso-hover="273">inst✝⁵</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1214" data-verso-hover="377">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1220" data-verso-hover="352">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1363" data-verso-hover="379">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1366" data-verso-hover="136">Z</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1369" data-verso-hover="381">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1366" data-verso-hover="136">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1512" data-verso-hover="382">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1366" data-verso-hover="136">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span> → <span class="var token" data-binding="var-_uniq.1366" data-verso-hover="136">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="137">X</span> → <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1614" data-verso-hover="386">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1658" data-verso-hover="387">hg</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.4418" data-verso-hover="372">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.4424" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span> (<span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.4424" data-verso-hover="271">x</span>)) <span class="var token" data-binding="var-_uniq.4418" data-verso-hover="372">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.4425" data-verso-hover="271">x</span>:=<span class="var token" data-binding="var-_uniq.4418" data-verso-hover="372">xdx</span>.1), <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span> (<span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.4425" data-verso-hover="271">x</span>)) <span class="var token" data-binding="var-_uniq.4418" data-verso-hover="372">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="372">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.4431" data-verso-hover="389">ydy</span> := (<span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="372">xdx</span>.1, (∂ <span class="var token" data-binding="var-_uniq.1520" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="372">xdx</span>.1) <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="372">xdx</span>.2);
  (<span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span> <span class="var token" data-binding="var-_uniq.4431" data-verso-hover="389">ydy</span>.1, (∂ <span class="var token" data-binding="var-_uniq.1516" data-verso-hover="385">f</span> <span class="var token" data-binding="var-_uniq.4431" data-verso-hover="389">ydy</span>.1) <span class="var token" data-binding="var-_uniq.4431" data-verso-hover="389">ydy</span>.2)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-6300-6309"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-6300">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-6300-6309"><div class="tactic-state">All goals completed! 🐙</div></span>

<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-6311">theorem</span> <span class="const token" data-binding="const-fwdFDeriv'.pi_rule" data-verso-hover="390">fwdFDeriv'.pi_rule</span> <span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span><span class="unknown token" data-binding="">}</span> <span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-SciLean.IndexType" data-verso-hover="41">IndexType</span> <span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span><span class="unknown token" data-binding="">]</span>
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="137">Y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4992" data-verso-hover="392">hf</span> <span class="unknown token" data-binding="">:</span> <span class="unknown token" data-binding="">∀</span> <span class="var token" data-binding="var-_uniq.4896" data-verso-hover="86">i</span><span class="unknown token" data-binding="">,</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="unknown token" data-binding="">·</span> <span class="var token" data-binding="var-_uniq.4896" data-verso-hover="86">i</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span> 
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-6441">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5007" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5009" data-verso-hover="86">i</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.5007" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.5009" data-verso-hover="86">i</span><span class="unknown token" data-binding="">)</span> 
    <span class="unknown token" data-binding="">=</span> 
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-6483">fun</span> <span class="var token" data-binding="var-_uniq.5363" data-verso-hover="372">xdx</span> <span class="unknown token" data-binding="">=&gt;</span> 
      <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-6501" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.5402" data-verso-hover="393">ydy</span> <span class="unknown token" data-binding="">:=</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-6512">fun</span> <span class="var token" data-binding="var-_uniq.5368" data-verso-hover="86">i</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="unknown token" data-binding="">·</span> <span class="var token" data-binding="var-_uniq.5368" data-verso-hover="86">i</span><span class="unknown token" data-binding="">)</span> <span class="var token" data-binding="var-_uniq.5363" data-verso-hover="372">xdx</span>
      <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-6554">fun</span> <span class="var token" data-binding="var-_uniq.5409" data-verso-hover="86">i</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5402" data-verso-hover="393">ydy</span> <span class="var token" data-binding="var-_uniq.5409" data-verso-hover="86">i</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">,</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-6574">fun</span> <span class="var token" data-binding="var-_uniq.5420" data-verso-hover="86">i</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5402" data-verso-hover="393">ydy</span> <span class="var token" data-binding="var-_uniq.5420" data-verso-hover="86">i</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-2334385745732708348-6597-6599"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-6597" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-2334385745732708348-6597-6599"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4423" data-verso-hover="374">inst✝⁵</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4429" data-verso-hover="273">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4582" data-verso-hover="377">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1217" data-verso-hover="137">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_4</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4588" data-verso-hover="352">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="137">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4731" data-verso-hover="379">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="137">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5437" data-verso-hover="179">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.IndexType" data-verso-hover="41">IndexType</span> <span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span> → <span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span> → <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="137">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4992" data-verso-hover="392">hf</span></td><td class="colon">:</td><td class="type">∀ (<span class="var token" data-binding="var-_uniq.7329" data-verso-hover="86">i</span> : <span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span>), <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7330" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.7330" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7329" data-verso-hover="86">i</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7331" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7332" data-verso-hover="86">i</span> =&gt; <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.7331" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7332" data-verso-hover="86">i</span>)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7333" data-verso-hover="372">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.7336" data-verso-hover="393">ydy</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7334" data-verso-hover="86">i</span> =&gt; <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> (<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7335" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.7335" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7334" data-verso-hover="86">i</span>) <span class="var token" data-binding="var-_uniq.7333" data-verso-hover="372">xdx</span>;
  (<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7342" data-verso-hover="86">i</span> =&gt; (<span class="var token" data-binding="var-_uniq.7336" data-verso-hover="393">ydy</span> <span class="var token" data-binding="var-_uniq.7342" data-verso-hover="86">i</span>).1, <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7344" data-verso-hover="86">i</span> =&gt; (<span class="var token" data-binding="var-_uniq.7336" data-verso-hover="393">ydy</span> <span class="var token" data-binding="var-_uniq.7344" data-verso-hover="86">i</span>).2)</span></span></div></div></span>
  <span class="tactic"><label for="tactic-state-4091990690350269283-6602-6619"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-6602" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-4091990690350269283-6602-6619"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4423" data-verso-hover="374">inst✝⁵</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4429" data-verso-hover="273">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4582" data-verso-hover="377">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1217" data-verso-hover="137">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_4</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4588" data-verso-hover="352">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="137">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4731" data-verso-hover="379">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="137">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5437" data-verso-hover="179">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.IndexType" data-verso-hover="41">IndexType</span> <span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.1058" data-verso-hover="136">X</span> → <span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span> → <span class="var token" data-binding="var-_uniq.1217" data-verso-hover="137">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4992" data-verso-hover="392">hf</span></td><td class="colon">:</td><td class="type">∀ (<span class="var token" data-binding="var-_uniq.7329" data-verso-hover="86">i</span> : <span class="var token" data-binding="var-_uniq.4883" data-verso-hover="134">I</span>), <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.1052" data-verso-hover="135">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7330" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.7330" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7329" data-verso-hover="86">i</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7329" data-verso-hover="372">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7338" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7339" data-verso-hover="86">i</span> =&gt; <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.7338" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7339" data-verso-hover="86">i</span>) <span class="var token" data-binding="var-_uniq.7329" data-verso-hover="372">xdx</span>.1, (∂ (<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7342" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7343" data-verso-hover="86">i</span> =&gt; <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.7342" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7343" data-verso-hover="86">i</span>) <span class="var token" data-binding="var-_uniq.7329" data-verso-hover="372">xdx</span>.1) <span class="var token" data-binding="var-_uniq.7329" data-verso-hover="372">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7344" data-verso-hover="372">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.7353" data-verso-hover="393">ydy</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7345" data-verso-hover="86">i</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7351" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.7351" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7345" data-verso-hover="86">i</span>) <span class="var token" data-binding="var-_uniq.7344" data-verso-hover="372">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.7352" data-verso-hover="271">x</span>:=<span class="var token" data-binding="var-_uniq.7344" data-verso-hover="372">xdx</span>.1), <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.7352" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.7345" data-verso-hover="86">i</span>) <span class="var token" data-binding="var-_uniq.7344" data-verso-hover="372">xdx</span>.2);
  (<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7359" data-verso-hover="86">i</span> =&gt; (<span class="var token" data-binding="var-_uniq.7353" data-verso-hover="393">ydy</span> <span class="var token" data-binding="var-_uniq.7359" data-verso-hover="86">i</span>).1, <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7361" data-verso-hover="86">i</span> =&gt; (<span class="var token" data-binding="var-_uniq.7353" data-verso-hover="393">ydy</span> <span class="var token" data-binding="var-_uniq.7361" data-verso-hover="86">i</span>).2)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-6621-6647"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-6621" data-verso-hover="196">simp</span> <span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-SciLean.fderiv.pi_rule" data-verso-hover="394">fderiv.pi_rule</span> <span class="var token" data-binding="var-_uniq.4892" data-verso-hover="391">f</span> <span class="var token" data-binding="var-_uniq.4992" data-verso-hover="392">hf</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-6621-6647"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code><ol start="1">
              <li>
                <p>
                  Write down the constant lambda theorems of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></code></p>
                </li>
              </ol>
            <div class="collapsible" onclick="this.classList.toggle('expanded');">
              <div class="collapsible-header">
                Solution</div>
              <div class="collapsible-content">
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-6753">theorem</span> <span class="const token" data-binding="const-fwdFDeriv'.const_rule" data-verso-hover="395">fwdFDeriv'.const_rule</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
  <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-6809">fun</span> <span class="var token" data-binding="var-_uniq.479" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span><span class="unknown token" data-binding="">)</span> 
  <span class="unknown token" data-binding="">=</span>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-6832">fun</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">0</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-16251868159119513541-6851-6853"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-6851" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16251868159119513541-6851-6853"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2334" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span>)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2335" data-verso-hover="372">x</span> =&gt; (<span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span>, 0)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-11902887498123692946-6854-6871"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-6854" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-11902887498123692946-6854-6871"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2333" data-verso-hover="372">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2339" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span>) <span class="var token" data-binding="var-_uniq.2333" data-verso-hover="372">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.2340" data-verso-hover="271">x</span>:=<span class="var token" data-binding="var-_uniq.2333" data-verso-hover="372">xdx</span>.1), <span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span>) <span class="var token" data-binding="var-_uniq.2333" data-verso-hover="372">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2341" data-verso-hover="372">x</span> =&gt; (<span class="var token" data-binding="var-_uniq.465" data-verso-hover="359">y</span>, 0)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-6873-6882"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-6873">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-6873-6882"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code></div>
              </div>
            <ol start="2">
              <li>
                <p>
                  Write down the product and projection lambda theorems of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></code>. Hint: The product rule should be formulated for <code>(fun x : X =&gt; (g x, f x))</code> where <code>g</code> and <code>f</code> are differentiable functions. The projection rule can be formulated for <code>(fun (xy : X×Y) =&gt; xy.1)</code></p>
                </li>
              </ol>
            <div class="collapsible" onclick="this.classList.toggle('expanded');">
              <div class="collapsible-header">
                Solution</div>
              <div class="collapsible-content">
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-7199">theorem</span> <span class="const token" data-binding="const-Prod.mk.arg_fstsnd.fwdFDeriv'_rule" data-verso-hover="396">Prod.mk.arg_fstsnd.fwdFDeriv'_rule</span> 
   <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="136">Y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.4108" data-verso-hover="137">Z</span><span class="unknown token" data-binding="">)</span> 
   <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.565" data-verso-hover="387">hg</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.609" data-verso-hover="386">hf</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
   <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-7349">fun</span> <span class="var token" data-binding="var-_uniq.623" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.623" data-verso-hover="271">x</span><span class="unknown token" data-binding="">,</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span> <span class="var token" data-binding="var-_uniq.623" data-verso-hover="271">x</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> 
   <span class="unknown token" data-binding="">=</span>
   <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-7383">fun</span> <span class="var token" data-binding="var-_uniq.776" data-verso-hover="372">xdx</span> <span class="unknown token" data-binding="">=&gt;</span> 
     <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-7400" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.1070" data-verso-hover="389">ydy</span> <span class="unknown token" data-binding="">:=</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.776" data-verso-hover="372">xdx</span>
     <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-7435" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.1362" data-verso-hover="398">zdz</span> <span class="unknown token" data-binding="">:=</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span> <span class="var token" data-binding="var-_uniq.776" data-verso-hover="372">xdx</span>
     <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1070" data-verso-hover="389">ydy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.1362" data-verso-hover="398">zdz</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1070" data-verso-hover="389">ydy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.1362" data-verso-hover="398">zdz</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-1219015084878610107-7503-7505"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-7503" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1219015084878610107-7503-7505"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁶</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝⁵</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3959" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4108" data-verso-hover="137">Z</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_4</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.320" data-verso-hover="381">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.4108" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.463" data-verso-hover="382">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.4108" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.4108" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.565" data-verso-hover="387">hg</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.609" data-verso-hover="386">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3793" data-verso-hover="271">x</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.3793" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span> <span class="var token" data-binding="var-_uniq.3793" data-verso-hover="271">x</span>))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3798" data-verso-hover="372">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.3799" data-verso-hover="389">ydy</span> := <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.3798" data-verso-hover="372">xdx</span>;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="398">zdz</span> := <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span> <span class="var token" data-binding="var-_uniq.3798" data-verso-hover="372">xdx</span>;
  ((<span class="var token" data-binding="var-_uniq.3799" data-verso-hover="389">ydy</span>.1, <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="398">zdz</span>.1), <span class="var token" data-binding="var-_uniq.3799" data-verso-hover="389">ydy</span>.2, <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="398">zdz</span>.2)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-5780213571493095439-7506-7523"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-7506" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-5780213571493095439-7506-7523"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁶</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝⁵</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3959" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4108" data-verso-hover="137">Z</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_4</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.320" data-verso-hover="381">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.4108" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.463" data-verso-hover="382">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.4108" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.4108" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.565" data-verso-hover="387">hg</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.609" data-verso-hover="386">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3792" data-verso-hover="372">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3798" data-verso-hover="271">x</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.3798" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span> <span class="var token" data-binding="var-_uniq.3798" data-verso-hover="271">x</span>)) <span class="var token" data-binding="var-_uniq.3792" data-verso-hover="372">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.3803" data-verso-hover="271">x</span>:=<span class="var token" data-binding="var-_uniq.3792" data-verso-hover="372">xdx</span>.1), (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.3803" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span> <span class="var token" data-binding="var-_uniq.3803" data-verso-hover="271">x</span>)) <span class="var token" data-binding="var-_uniq.3792" data-verso-hover="372">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3808" data-verso-hover="372">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.3813" data-verso-hover="389">ydy</span> := (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.3808" data-verso-hover="372">xdx</span>.1, (∂ <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.3808" data-verso-hover="372">xdx</span>.1) <span class="var token" data-binding="var-_uniq.3808" data-verso-hover="372">xdx</span>.2);
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.3818" data-verso-hover="398">zdz</span> := (<span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span> <span class="var token" data-binding="var-_uniq.3808" data-verso-hover="372">xdx</span>.1, (∂ <span class="var token" data-binding="var-_uniq.471" data-verso-hover="397">f</span> <span class="var token" data-binding="var-_uniq.3808" data-verso-hover="372">xdx</span>.1) <span class="var token" data-binding="var-_uniq.3808" data-verso-hover="372">xdx</span>.2);
  ((<span class="var token" data-binding="var-_uniq.3813" data-verso-hover="389">ydy</span>.1, <span class="var token" data-binding="var-_uniq.3818" data-verso-hover="398">zdz</span>.1), <span class="var token" data-binding="var-_uniq.3813" data-verso-hover="389">ydy</span>.2, <span class="var token" data-binding="var-_uniq.3818" data-verso-hover="398">zdz</span>.2)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-7525-7534"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-7525">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-7525-7534"><div class="tactic-state">All goals completed! 🐙</div></span>

<span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-7549">theorem</span> <span class="const token" data-binding="const-Prod.fst.arg_self.fwdFDeriv'_rule" data-verso-hover="399">Prod.fst.arg_self.fwdFDeriv'_rule</span> 
    <span class="unknown token" data-binding="">:</span>
  <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-7614">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4270" data-verso-hover="400">xy</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span><span class="unknown token" data-binding="">×</span><span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.4270" data-verso-hover="400">xy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">)</span> 
  <span class="unknown token" data-binding="">=</span>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-7646">fun</span> <span class="var token" data-binding="var-_uniq.4444" data-verso-hover="401">xydxy</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4444" data-verso-hover="401">xydxy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.4444" data-verso-hover="401">xydxy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-15530999518042829427-7684-7686"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-7684" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15530999518042829427-7684-7686"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3797" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3803" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3956" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3962" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4105" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="400">xy</span> =&gt; <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="400">xy</span>.1)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.5782" data-verso-hover="401">xydxy</span> =&gt; (<span class="var token" data-binding="var-_uniq.5782" data-verso-hover="401">xydxy</span>.1.1, <span class="var token" data-binding="var-_uniq.5782" data-verso-hover="401">xydxy</span>.2.1)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-12336304695504554461-7687-7704"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-7687" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-12336304695504554461-7687-7704"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3797" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3803" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3956" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3962" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4105" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.5779" data-verso-hover="401">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.5785" data-verso-hover="400">xy</span> =&gt; <span class="var token" data-binding="var-_uniq.5785" data-verso-hover="400">xy</span>.1) <span class="var token" data-binding="var-_uniq.5779" data-verso-hover="401">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.5786" data-verso-hover="400">xy</span>:=<span class="var token" data-binding="var-_uniq.5779" data-verso-hover="401">xdx</span>.1), <span class="var token" data-binding="var-_uniq.5786" data-verso-hover="400">xy</span>.1) <span class="var token" data-binding="var-_uniq.5779" data-verso-hover="401">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="401">xydxy</span> =&gt; (<span class="var token" data-binding="var-_uniq.3800" data-verso-hover="401">xydxy</span>.1.1, <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="401">xydxy</span>.2.1)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-7706-7715"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-7706">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-7706-7715"><div class="tactic-state">All goals completed! 🐙</div></span>

<span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-7730">theorem</span> <span class="const token" data-binding="const-Prod.snd.arg_self.fwdFDeriv'_rule" data-verso-hover="402">Prod.snd.arg_self.fwdFDeriv'_rule</span> 
    <span class="unknown token" data-binding="">:</span>
  <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-7795">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6257" data-verso-hover="400">xy</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span><span class="unknown token" data-binding="">×</span><span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.6257" data-verso-hover="400">xy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span> 
  <span class="unknown token" data-binding="">=</span>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-7827">fun</span> <span class="var token" data-binding="var-_uniq.6431" data-verso-hover="401">xydxy</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6431" data-verso-hover="401">xydxy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.6431" data-verso-hover="401">xydxy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-16546462909490045103-7865-7867"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-7865" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16546462909490045103-7865-7867"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5784" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5790" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5943" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5949" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6092" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7768" data-verso-hover="400">xy</span> =&gt; <span class="var token" data-binding="var-_uniq.7768" data-verso-hover="400">xy</span>.2)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7769" data-verso-hover="401">xydxy</span> =&gt; (<span class="var token" data-binding="var-_uniq.7769" data-verso-hover="401">xydxy</span>.1.2, <span class="var token" data-binding="var-_uniq.7769" data-verso-hover="401">xydxy</span>.2.2)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-511833420673391629-7868-7885"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-7868" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-511833420673391629-7868-7885"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5784" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5790" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5943" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.3800" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5949" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6092" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3794" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.3959" data-verso-hover="135">Y</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7766" data-verso-hover="401">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7772" data-verso-hover="400">xy</span> =&gt; <span class="var token" data-binding="var-_uniq.7772" data-verso-hover="400">xy</span>.2) <span class="var token" data-binding="var-_uniq.7766" data-verso-hover="401">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.7773" data-verso-hover="400">xy</span>:=<span class="var token" data-binding="var-_uniq.7766" data-verso-hover="401">xdx</span>.1), <span class="var token" data-binding="var-_uniq.7773" data-verso-hover="400">xy</span>.2) <span class="var token" data-binding="var-_uniq.7766" data-verso-hover="401">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7774" data-verso-hover="401">xydxy</span> =&gt; (<span class="var token" data-binding="var-_uniq.7774" data-verso-hover="401">xydxy</span>.1.2, <span class="var token" data-binding="var-_uniq.7774" data-verso-hover="401">xydxy</span>.2.2)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-7887-7896"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-7887">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-7887-7896"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code></div>
              </div>
            <ol start="3">
              <li>
                <p>
                  Write down the apply lambda theorems of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></code>. 
  Hint: Writhe the rule for the function <code>fun (f : I → X) =&gt; f i</code> where <code>I</code> has instance of <code>[IndexType I]</code>.</p>
                </li>
              </ol>
            <div class="collapsible" onclick="this.classList.toggle('expanded');">
              <div class="collapsible-header">
                Solution</div>
              <div class="collapsible-content">
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-8115">theorem</span> <span class="const token" data-binding="const-fwdFDeriv'.apply_rule" data-verso-hover="403">fwdFDeriv'.apply_rule</span> <span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span><span class="unknown token" data-binding="">}</span> <span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-SciLean.IndexType" data-verso-hover="41">IndexType</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-8191">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.487" data-verso-hover="404">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.487" data-verso-hover="404">f</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span><span class="unknown token" data-binding="">)</span> 
    <span class="unknown token" data-binding="">=</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-8228">fun</span> <span class="var token" data-binding="var-_uniq.855" data-verso-hover="405">fdf</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.855" data-verso-hover="405">fdf</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span><span class="unknown token" data-binding="">,</span> <span class="var token" data-binding="var-_uniq.855" data-verso-hover="405">fdf</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-4719632825420013603-8261-8263"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-8261" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-4719632825420013603-8261-8263"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.932" data-verso-hover="179">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.IndexType" data-verso-hover="41">IndexType</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1583" data-verso-hover="404">f</span> =&gt; <span class="var token" data-binding="var-_uniq.1583" data-verso-hover="404">f</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span>)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1585" data-verso-hover="405">fdf</span> =&gt; (<span class="var token" data-binding="var-_uniq.1585" data-verso-hover="405">fdf</span>.1 <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span>, <span class="var token" data-binding="var-_uniq.1585" data-verso-hover="405">fdf</span>.2 <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span>)</span></span></div></div></span> 
  <span class="tactic"><label for="tactic-state-16041506633353907948-8267-8284"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-8267" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16041506633353907948-8267-8284"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="136">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.932" data-verso-hover="179">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.IndexType" data-verso-hover="41">IndexType</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="134">I</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1581" data-verso-hover="405">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1587" data-verso-hover="404">f</span> =&gt; <span class="var token" data-binding="var-_uniq.1587" data-verso-hover="404">f</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span>) <span class="var token" data-binding="var-_uniq.1581" data-verso-hover="405">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.1589" data-verso-hover="404">f</span>:=<span class="var token" data-binding="var-_uniq.1581" data-verso-hover="405">xdx</span>.1), <span class="var token" data-binding="var-_uniq.1589" data-verso-hover="404">f</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span>) <span class="var token" data-binding="var-_uniq.1581" data-verso-hover="405">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.1593" data-verso-hover="405">fdf</span> =&gt; (<span class="var token" data-binding="var-_uniq.1593" data-verso-hover="405">fdf</span>.1 <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span>, <span class="var token" data-binding="var-_uniq.1593" data-verso-hover="405">fdf</span>.2 <span class="var token" data-binding="var-_uniq.471" data-verso-hover="86">i</span>)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-8286-8295"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-8286">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-8286-8295"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code></div>
              </div>
            <ol start="4">
              <li>
                <p>
                  Write down the let lambda theorems of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></code>. 
  Pay attention the the use of let bindings on the right hand side. Careful use of let bindings is important for the efficiency of the resulting code. Also you do not want to differentiate <code>f</code> w.r.t. to <code>x</code> and <code>y</code> separetely but rather differentiate it w.r.t. <code>x</code> and <code>y</code> simultatinously.</p>
                </li>
              </ol>
            <div class="collapsible" onclick="this.classList.toggle('expanded');">
              <div class="collapsible-header">
                Solution</div>
              <div class="collapsible-content">
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-8691">theorem</span> <span class="const token" data-binding="const-fwdFDeriv'.let_rule" data-verso-hover="406">fwdFDeriv'.let_rule</span>
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.317" data-verso-hover="137">Z</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1018" data-verso-hover="408">hf</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-8767">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2357" data-verso-hover="271">x</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.2358" data-verso-hover="359">y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.2357" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.2358" data-verso-hover="359">y</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span><span class="unknown token" data-binding="">)</span>  <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1095" data-verso-hover="387">hg</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span> 
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-8854">fun</span> <span class="var token" data-binding="var-_uniq.1110" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-8863" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.1113" data-verso-hover="359">y</span> <span class="unknown token" data-binding="">:=</span> <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.1110" data-verso-hover="271">x</span><span class="unknown token" data-binding="">;</span> <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.1110" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.1113" data-verso-hover="359">y</span><span class="unknown token" data-binding="">)</span> 
    <span class="unknown token" data-binding="">=</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-8895">fun</span> <span class="var token" data-binding="var-_uniq.1165" data-verso-hover="372">xdx</span> <span class="unknown token" data-binding="">=&gt;</span> 
      <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-8913" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.1459" data-verso-hover="389">ydy</span> <span class="unknown token" data-binding="">:=</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.1165" data-verso-hover="372">xdx</span>
      <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-8949" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.1494" data-verso-hover="401">xydxy</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1165" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.1459" data-verso-hover="389">ydy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1165" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.1459" data-verso-hover="389">ydy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span>
      <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-9012">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1982" data-verso-hover="271">x</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.1983" data-verso-hover="359">y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.1982" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.1983" data-verso-hover="359">y</span><span class="unknown token" data-binding="">)</span> <span class="var token" data-binding="var-_uniq.1494" data-verso-hover="401">xydxy</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-16008852572923794685-9041-9043"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9041" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16008852572923794685-9041-9043"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁶</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝⁵</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.317" data-verso-hover="137">Z</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_4</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.320" data-verso-hover="381">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.317" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.463" data-verso-hover="382">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.317" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span> → <span class="var token" data-binding="var-_uniq.317" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1018" data-verso-hover="408">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6361" data-verso-hover="400">x</span> =&gt;
  <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.6361" data-verso-hover="400">x</span> <span class="keyword token" data-binding="">with</span>
  | (<span class="var token" data-binding="var-_uniq.6369" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.6370" data-verso-hover="359">y</span>) =&gt; <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.6364" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.6365" data-verso-hover="359">y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1095" data-verso-hover="387">hg</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6361" data-verso-hover="271">x</span> =&gt;
    <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.6362" data-verso-hover="359">y</span> := <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.6361" data-verso-hover="271">x</span>;
    <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.6361" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.6362" data-verso-hover="359">y</span>)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> =
  </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6363" data-verso-hover="372">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.6364" data-verso-hover="389">ydy</span> := <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.6363" data-verso-hover="372">xdx</span>;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.6377" data-verso-hover="401">xydxy</span> := ((<span class="var token" data-binding="var-_uniq.6363" data-verso-hover="372">xdx</span>.1, <span class="var token" data-binding="var-_uniq.6364" data-verso-hover="389">ydy</span>.1), <span class="var token" data-binding="var-_uniq.6363" data-verso-hover="372">xdx</span>.2, <span class="var token" data-binding="var-_uniq.6364" data-verso-hover="389">ydy</span>.2);
  <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span>
    (<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6379" data-verso-hover="400">x</span> =&gt;
      <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.6379" data-verso-hover="400">x</span> <span class="keyword token" data-binding="">with</span>
      | (<span class="var token" data-binding="var-_uniq.6387" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.6388" data-verso-hover="359">y</span>) =&gt; <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.6382" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.6383" data-verso-hover="359">y</span>)
    <span class="var token" data-binding="var-_uniq.6377" data-verso-hover="401">xydxy</span></span></span></div></div></span> 
  <span class="tactic"><label for="tactic-state-7261338920751681431-9047-9064"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-9047" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7261338920751681431-9047-9064"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁶</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝⁵</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.317" data-verso-hover="137">Z</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_4</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.320" data-verso-hover="381">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.317" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.463" data-verso-hover="382">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.317" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span> → <span class="var token" data-binding="var-_uniq.317" data-verso-hover="137">Z</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1018" data-verso-hover="408">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6361" data-verso-hover="400">x</span> =&gt;
  <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.6361" data-verso-hover="400">x</span> <span class="keyword token" data-binding="">with</span>
  | (<span class="var token" data-binding="var-_uniq.6369" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.6370" data-verso-hover="359">y</span>) =&gt; <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.6364" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.6365" data-verso-hover="359">y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="135">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1095" data-verso-hover="387">hg</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6360" data-verso-hover="372">xdx</span> =&gt;
    ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6367" data-verso-hover="271">x</span> =&gt;
          <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.6368" data-verso-hover="359">y</span> := <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.6367" data-verso-hover="271">x</span>;
          <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.6367" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.6368" data-verso-hover="359">y</span>)
        <span class="var token" data-binding="var-_uniq.6360" data-verso-hover="372">xdx</span>.1,
      (∂ (<span class="var token" data-binding="var-_uniq.6369" data-verso-hover="271">x</span>:=<span class="var token" data-binding="var-_uniq.6360" data-verso-hover="372">xdx</span>.1),
          <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.6370" data-verso-hover="359">y</span> := <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.6369" data-verso-hover="271">x</span>;
          <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.6369" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.6370" data-verso-hover="359">y</span>)
        <span class="var token" data-binding="var-_uniq.6360" data-verso-hover="372">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> =
  </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6371" data-verso-hover="372">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.6376" data-verso-hover="389">ydy</span> := (<span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.6371" data-verso-hover="372">xdx</span>.1, (∂ <span class="var token" data-binding="var-_uniq.1022" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.6371" data-verso-hover="372">xdx</span>.1) <span class="var token" data-binding="var-_uniq.6371" data-verso-hover="372">xdx</span>.2);
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.6389" data-verso-hover="401">xydxy</span> := ((<span class="var token" data-binding="var-_uniq.6371" data-verso-hover="372">xdx</span>.1, <span class="var token" data-binding="var-_uniq.6376" data-verso-hover="389">ydy</span>.1), <span class="var token" data-binding="var-_uniq.6371" data-verso-hover="372">xdx</span>.2, <span class="var token" data-binding="var-_uniq.6376" data-verso-hover="389">ydy</span>.2);
  ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6395" data-verso-hover="400">x</span> =&gt;
        <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.6395" data-verso-hover="400">x</span> <span class="keyword token" data-binding="">with</span>
        | (<span class="var token" data-binding="var-_uniq.6403" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.6404" data-verso-hover="359">y</span>) =&gt; <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.6398" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.6399" data-verso-hover="359">y</span>)
      <span class="var token" data-binding="var-_uniq.6389" data-verso-hover="401">xydxy</span>.1,
    (∂ (<span class="var token" data-binding="var-_uniq.6410" data-verso-hover="400">x</span>:=<span class="var token" data-binding="var-_uniq.6389" data-verso-hover="401">xydxy</span>.1),
        <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.6410" data-verso-hover="400">x</span> <span class="keyword token" data-binding="">with</span>
        | (<span class="var token" data-binding="var-_uniq.6418" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.6419" data-verso-hover="359">y</span>) =&gt; <span class="var token" data-binding="var-_uniq.469" data-verso-hover="407">f</span> <span class="var token" data-binding="var-_uniq.6413" data-verso-hover="271">x</span> <span class="var token" data-binding="var-_uniq.6414" data-verso-hover="359">y</span>)
      <span class="var token" data-binding="var-_uniq.6389" data-verso-hover="401">xydxy</span>.2)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-9066-9075"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-9066">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9066-9075"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code></div>
              </div>
            </section>
          <section>
            <h2 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Function-Theorems">
              Function Theorems</h2>
            <p>
              Once we postulate all the lambda theorems for a new function transformation we have to also postulate theorems for functions like addition, multiplication etc. </p>
            <p>
              Let's start with a function theorem for negation is it is a function of a single argument</p>
            <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-9380">theorem</span> <span class="const token" data-binding="const-Neg.neg.arg_a0.fwdFDeriv'_rule" data-verso-hover="409">Neg.neg.arg_a0.fwdFDeriv'_rule</span> <span class="unknown token" data-binding="">:</span>
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-9439">fun</span> <span class="var token" data-binding="var-_uniq.477" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">-</span> <span class="var token" data-binding="var-_uniq.477" data-verso-hover="271">x</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">=</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-9467">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1453" data-verso-hover="271">x</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.1454" data-verso-hover="271">dx</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> 
      <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">-</span><span class="var token" data-binding="var-_uniq.1453" data-verso-hover="271">x</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">-</span><span class="var token" data-binding="var-_uniq.1454" data-verso-hover="271">dx</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-1952171646153826063-9501-9503"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9501" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1952171646153826063-9501-9503"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2346" data-verso-hover="271">x</span> =&gt; <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.2346" data-verso-hover="271">x</span>)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2354" data-verso-hover="372">x</span> =&gt;
  <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.2354" data-verso-hover="372">x</span> <span class="keyword token" data-binding="">with</span>
  | (<span class="var token" data-binding="var-_uniq.2372" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.2373" data-verso-hover="271">dx</span>) =&gt; (<span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.2357" data-verso-hover="271">x</span>, <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.2358" data-verso-hover="271">dx</span>)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-9313781994676942394-9504-9521"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-9504" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-9313781994676942394-9504-9521"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2344" data-verso-hover="372">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2350" data-verso-hover="271">x</span> =&gt; <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.2350" data-verso-hover="271">x</span>) <span class="var token" data-binding="var-_uniq.2344" data-verso-hover="372">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.2357" data-verso-hover="271">x</span>:=<span class="var token" data-binding="var-_uniq.2344" data-verso-hover="372">xdx</span>.1), <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.2357" data-verso-hover="271">x</span>) <span class="var token" data-binding="var-_uniq.2344" data-verso-hover="372">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.2362" data-verso-hover="372">x</span> =&gt;
  <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.2362" data-verso-hover="372">x</span> <span class="keyword token" data-binding="">with</span>
  | (<span class="var token" data-binding="var-_uniq.2380" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.2381" data-verso-hover="271">dx</span>) =&gt; (<span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.2365" data-verso-hover="271">x</span>, <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.2366" data-verso-hover="271">dx</span>)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-9523-9532"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-9523">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9523-9532"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code><p>
              For a function of two or more arguments we just uncurry the function sufficiently and furmulate the theorem as for a function of single argument. For example the transformation rule for addition is</p>
            <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-9757">theorem</span> <span class="const token" data-binding="const-HAdd.hAdd.arg_a0a1.fwdFDeriv'_rule" data-verso-hover="410">HAdd.hAdd.arg_a0a1.fwdFDeriv'_rule</span> <span class="unknown token" data-binding="">:</span>
    <span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-9820">fun</span> <span class="var token" data-binding="var-_uniq.479" data-verso-hover="372">xy</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span><span class="unknown token" data-binding="">×</span><span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.479" data-verso-hover="372">xy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.479" data-verso-hover="372">xy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">=</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-9860">fun</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2984" data-verso-hover="271">x</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.2985" data-verso-hover="271">y</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2986" data-verso-hover="271">dx</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.2987" data-verso-hover="271">dy</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> 
      <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2984" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.2985" data-verso-hover="271">y</span><span class="unknown token" data-binding="">,</span> <span class="var token" data-binding="var-_uniq.2986" data-verso-hover="271">dx</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.2987" data-verso-hover="271">dy</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-16968108043883447462-9910-9912"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-9910" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16968108043883447462-9910-9912"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7303" data-verso-hover="372">xy</span> =&gt; <span class="var token" data-binding="var-_uniq.7303" data-verso-hover="372">xy</span>.1<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.7303" data-verso-hover="372">xy</span>.2)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7317" data-verso-hover="411">x</span> =&gt;
  <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.7317" data-verso-hover="411">x</span> <span class="keyword token" data-binding="">with</span>
  | ((<span class="var token" data-binding="var-_uniq.7343" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.7344" data-verso-hover="271">y</span>), <span class="var token" data-binding="var-_uniq.7345" data-verso-hover="271">dx</span>, <span class="var token" data-binding="var-_uniq.7346" data-verso-hover="271">dy</span>) =&gt; (<span class="var token" data-binding="var-_uniq.7320" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.7321" data-verso-hover="271">y</span>, <span class="var token" data-binding="var-_uniq.7322" data-verso-hover="271">dx</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.7323" data-verso-hover="271">dy</span>)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-2750395196050105187-9913-9930"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-9913" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-2750395196050105187-9913-9930"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="135">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="134">X</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7301" data-verso-hover="411">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7307" data-verso-hover="372">xy</span> =&gt; <span class="var token" data-binding="var-_uniq.7307" data-verso-hover="372">xy</span>.1<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.7307" data-verso-hover="372">xy</span>.2) <span class="var token" data-binding="var-_uniq.7301" data-verso-hover="411">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.7320" data-verso-hover="372">xy</span>:=<span class="var token" data-binding="var-_uniq.7301" data-verso-hover="411">xdx</span>.1), (<span class="var token" data-binding="var-_uniq.7320" data-verso-hover="372">xy</span>.1<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.7320" data-verso-hover="372">xy</span>.2)) <span class="var token" data-binding="var-_uniq.7301" data-verso-hover="411">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7328" data-verso-hover="411">x</span> =&gt;
  <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.7328" data-verso-hover="411">x</span> <span class="keyword token" data-binding="">with</span>
  | ((<span class="var token" data-binding="var-_uniq.7354" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.7355" data-verso-hover="271">y</span>), <span class="var token" data-binding="var-_uniq.7356" data-verso-hover="271">dx</span>, <span class="var token" data-binding="var-_uniq.7357" data-verso-hover="271">dy</span>) =&gt; (<span class="var token" data-binding="var-_uniq.7331" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.7332" data-verso-hover="271">y</span>, <span class="var token" data-binding="var-_uniq.7333" data-verso-hover="271">dx</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.7334" data-verso-hover="271">dy</span>)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-9932-9941"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-9932">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-9932-9941"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code><p>
              Let's define function in three arguments</p>
            <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-9997">def</span> <span class="const token" data-binding="const-fun1" data-verso-hover="412">fun1</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">x</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="413">y</span> <span class="var token" data-binding="var-_uniq.469" data-verso-hover="413">z</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">x</span> <span class="unknown token" data-binding="">*</span> <span class="const token" data-binding="const-SciLean.Scalar.sin" data-verso-hover="259">sin</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.469" data-verso-hover="413">z</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="413">y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.469" data-verso-hover="413">z</span>
<span class="unknown token" data-binding=""></span></code><p>
              We do not have to state the transformation rule in all of its arguments at the same time. </p>
            <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-10161">theorem</span> <span class="const token" data-binding="const-fun1.arg_xz.fwdFDeriv'_rule" data-verso-hover="414">fun1.arg_xz.fwdFDeriv'_rule</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-10225">fun</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.481" data-verso-hover="415">xz</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="unknown token" data-binding="">×</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="const token" data-binding="const-fun1" data-verso-hover="412">fun1</span> <span class="var token" data-binding="var-_uniq.481" data-verso-hover="415">xz</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span> <span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span> <span class="var token" data-binding="var-_uniq.481" data-verso-hover="415">xz</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">=</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-10272">fun</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.867" data-verso-hover="413">x</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.868" data-verso-hover="413">z</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.869" data-verso-hover="413">dx</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.870" data-verso-hover="413">dz</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=&gt;</span> 
      <span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-fun1" data-verso-hover="412">fun1</span> <span class="var token" data-binding="var-_uniq.867" data-verso-hover="413">x</span> <span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span> <span class="var token" data-binding="var-_uniq.868" data-verso-hover="413">z</span><span class="unknown token" data-binding="">,</span> 
       <span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.867" data-verso-hover="413">x</span> <span class="unknown token" data-binding="">*</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.870" data-verso-hover="413">dz</span> <span class="unknown token" data-binding="">*</span> <span class="const token" data-binding="const-SciLean.Scalar.cos" data-verso-hover="258">cos</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.868" data-verso-hover="413">z</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.869" data-verso-hover="413">dx</span> <span class="unknown token" data-binding="">*</span> <span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.867" data-verso-hover="413">x</span> <span class="unknown token" data-binding="">*</span> <span class="const token" data-binding="const-SciLean.Scalar.sin" data-verso-hover="259">sin</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.868" data-verso-hover="413">z</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.870" data-verso-hover="413">dz</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-3860271821581167958-10386-10388"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-10386" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3860271821581167958-10386-10388"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6657" data-verso-hover="415">xz</span> =&gt; <span class="const token" data-binding="const-fun1" data-verso-hover="412">fun1</span> <span class="var token" data-binding="var-_uniq.6657" data-verso-hover="415">xz</span>.1 <span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span> <span class="var token" data-binding="var-_uniq.6657" data-verso-hover="415">xz</span>.2)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6659" data-verso-hover="416">x</span> =&gt;
  <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.6659" data-verso-hover="416">x</span> <span class="keyword token" data-binding="">with</span>
  | ((<span class="var token" data-binding="var-_uniq.6753" data-verso-hover="413">x</span>, <span class="var token" data-binding="var-_uniq.6754" data-verso-hover="413">z</span>), <span class="var token" data-binding="var-_uniq.6755" data-verso-hover="413">dx</span>, <span class="var token" data-binding="var-_uniq.6756" data-verso-hover="413">dz</span>) =&gt; (<span class="const token" data-binding="const-fun1" data-verso-hover="412">fun1</span> <span class="var token" data-binding="var-_uniq.6662" data-verso-hover="413">x</span> <span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span> <span class="var token" data-binding="var-_uniq.6663" data-verso-hover="413">z</span>, <span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.6662" data-verso-hover="413">x</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span>(<span class="var token" data-binding="var-_uniq.6665" data-verso-hover="413">dz</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="const token" data-binding="const-SciLean.Scalar.cos" data-verso-hover="258">cos</span> (<span class="var token" data-binding="var-_uniq.6663" data-verso-hover="413">z</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span>))<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.6664" data-verso-hover="413">dx</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.6662" data-verso-hover="413">x</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="const token" data-binding="const-SciLean.Scalar.sin" data-verso-hover="259">sin</span> (<span class="var token" data-binding="var-_uniq.6663" data-verso-hover="413">z</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span>)<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.6665" data-verso-hover="413">dz</span>)</span></span></div></div></span> 
  <span class="tactic"><label for="tactic-state-3133363592558105389-10392-10414"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-10392" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="const token" data-binding="const-fun1" data-verso-hover="412">fun1</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3133363592558105389-10392-10414"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6655" data-verso-hover="416">xdx</span> =&gt;
    ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6661" data-verso-hover="415">xz</span> =&gt; <span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.6661" data-verso-hover="415">xz</span>.1<span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="const token" data-binding="const-SciLean.Scalar.sin" data-verso-hover="259">sin</span> (<span class="var token" data-binding="var-_uniq.6661" data-verso-hover="415">xz</span>.2<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span>)<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.6661" data-verso-hover="415">xz</span>.2) <span class="var token" data-binding="var-_uniq.6655" data-verso-hover="416">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.6704" data-verso-hover="415">xz</span>:=<span class="var token" data-binding="var-_uniq.6655" data-verso-hover="416">xdx</span>.1), (<span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.6704" data-verso-hover="415">xz</span>.1<span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="const token" data-binding="const-SciLean.Scalar.sin" data-verso-hover="259">sin</span> (<span class="var token" data-binding="var-_uniq.6704" data-verso-hover="415">xz</span>.2<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span>)<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.6704" data-verso-hover="415">xz</span>.2)) <span class="var token" data-binding="var-_uniq.6655" data-verso-hover="416">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> =
  </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.6732" data-verso-hover="416">x</span> =&gt;
  <span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.6732" data-verso-hover="416">x</span> <span class="keyword token" data-binding="">with</span>
  | ((<span class="var token" data-binding="var-_uniq.6836" data-verso-hover="413">x</span>, <span class="var token" data-binding="var-_uniq.6837" data-verso-hover="413">z</span>), <span class="var token" data-binding="var-_uniq.6838" data-verso-hover="413">dx</span>, <span class="var token" data-binding="var-_uniq.6839" data-verso-hover="413">dz</span>) =&gt; (<span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.6735" data-verso-hover="413">x</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="const token" data-binding="const-SciLean.Scalar.sin" data-verso-hover="259">sin</span> (<span class="var token" data-binding="var-_uniq.6736" data-verso-hover="413">z</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span>)<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.6736" data-verso-hover="413">z</span>, <span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.6735" data-verso-hover="413">x</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span>(<span class="var token" data-binding="var-_uniq.6738" data-verso-hover="413">dz</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="const token" data-binding="const-SciLean.Scalar.cos" data-verso-hover="258">cos</span> (<span class="var token" data-binding="var-_uniq.6736" data-verso-hover="413">z</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span>))<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.6737" data-verso-hover="413">dx</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="const token" data-binding="const-SciLean.Scalar.exp" data-verso-hover="103">exp</span> <span class="var token" data-binding="var-_uniq.6735" data-verso-hover="413">x</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="const token" data-binding="const-SciLean.Scalar.sin" data-verso-hover="259">sin</span> (<span class="var token" data-binding="var-_uniq.6736" data-verso-hover="413">z</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.465" data-verso-hover="413">y</span>)<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.6738" data-verso-hover="413">dz</span>)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-10416-10425"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-10416">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-10416-10425"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code><p>
              Writing rules for user defined functions like <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fun1" data-verso-hover="412">fun1</span></code> is tedious and because <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fun1" data-verso-hover="412">fun1</span></code> is defined in terms of known function the right hands side of this rule should be automatically generated anyway. We will discuss this how to do this a bit later. Here we just wanted to demonstrate that you can indeed formulate the transformation rule only for a subset of the input arguments. The important rule is that the order of the arguments should be maintained e.g. the left hand side should <strong>not</strong> be <code>fwdFDeriv' R (fun (zx : R×R) =&gt; fun1 zx.2 y zx.1)</code>.</p>
            <p>
              In some cases the rule can get a bit tricky and there might be additional requirements on the arguments. The canonical example is division, <code>x / y</code>, which can be differentiated only if we divide by non zero <code>y</code>. In this case, the theorem can't be stated as a function in <code>((x,y),(dx,dy))</code> anymore. We have to fix particular value and require that the <code>y</code> is non zero. </p>
            <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-11379">theorem</span> <span class="const token" data-binding="const-HDiv.hDiv.arg_a0a1.fwdFDeriv'_rule_simple" data-verso-hover="417">HDiv.hDiv.arg_a0a1.fwdFDeriv'_rule_simple</span> 
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span> <span class="unknown token" data-binding="">:</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="unknown token" data-binding="">×</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">×</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="unknown token" data-binding="">×</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.593" data-verso-hover="418">h</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span> <span class="unknown token" data-binding="">≠</span> <span class="unknown token" data-binding="">0</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
    <span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-11501">fun</span> <span class="var token" data-binding="var-_uniq.609" data-verso-hover="415">xy</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="unknown token" data-binding="">×</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.609" data-verso-hover="415">xy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span> <span class="unknown token" data-binding="">/</span> <span class="var token" data-binding="var-_uniq.609" data-verso-hover="415">xy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span>
    <span class="unknown token" data-binding="">=</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-11547" data-verso-hover="78">let</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1130" data-verso-hover="413">x</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.1131" data-verso-hover="413">y</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1132" data-verso-hover="413">dx</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.1133" data-verso-hover="413">dy</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span>
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1130" data-verso-hover="413">x</span><span class="unknown token" data-binding="">/</span><span class="var token" data-binding="var-_uniq.1131" data-verso-hover="413">y</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1132" data-verso-hover="413">dx</span><span class="unknown token" data-binding="">*</span><span class="var token" data-binding="var-_uniq.1131" data-verso-hover="413">y</span> <span class="unknown token" data-binding="">-</span> <span class="var token" data-binding="var-_uniq.1130" data-verso-hover="413">x</span><span class="unknown token" data-binding="">*</span><span class="var token" data-binding="var-_uniq.1133" data-verso-hover="413">dy</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">/</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1131" data-verso-hover="413">y</span><span class="unknown token" data-binding="">^</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-15920330376288681892-11611-11613"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-11611" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15920330376288681892-11611-11613"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span></td><td class="colon">:</td><td class="type">(<span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="const token" data-binding="const-Prod" data-verso-hover="70"> × </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span>)<span class="const token" data-binding="const-Prod" data-verso-hover="70"> × </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="const token" data-binding="const-Prod" data-verso-hover="70"> × </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.593" data-verso-hover="418">h</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span>.1.2<span class="const token" data-binding="const-Ne" data-verso-hover="251"> ≠ </span>0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> (<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.5676" data-verso-hover="415">xy</span> =&gt; <span class="var token" data-binding="var-_uniq.5676" data-verso-hover="415">xy</span>.1<span class="const token" data-binding="const-HDiv.hDiv" data-verso-hover="148"> / </span><span class="var token" data-binding="var-_uniq.5676" data-verso-hover="415">xy</span>.2) <span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span><span class="const token" data-binding="const-Eq" data-verso-hover="71"> =
  </span><span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span>, <span class="var token" data-binding="var-_uniq.593" data-verso-hover="418">h</span> <span class="keyword token" data-binding="">with</span>
  | ((<span class="var token" data-binding="var-_uniq.5761" data-verso-hover="413">x</span>, <span class="var token" data-binding="var-_uniq.5762" data-verso-hover="413">y</span>), <span class="var token" data-binding="var-_uniq.5763" data-verso-hover="413">dx</span>, <span class="var token" data-binding="var-_uniq.5764" data-verso-hover="413">dy</span>), <span class="var token" data-binding="var-_uniq.5765" data-verso-hover="419">h</span> =&gt; (<span class="var token" data-binding="var-_uniq.5694" data-verso-hover="413">x</span><span class="const token" data-binding="const-HDiv.hDiv" data-verso-hover="148"> / </span><span class="var token" data-binding="var-_uniq.5695" data-verso-hover="413">y</span>, (<span class="var token" data-binding="var-_uniq.5696" data-verso-hover="413">dx</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="var token" data-binding="var-_uniq.5695" data-verso-hover="413">y</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.5694" data-verso-hover="413">x</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="var token" data-binding="var-_uniq.5697" data-verso-hover="413">dy</span>)<span class="const token" data-binding="const-HDiv.hDiv" data-verso-hover="148"> / </span><span class="var token" data-binding="var-_uniq.5695" data-verso-hover="413">y</span><span class="const token" data-binding="const-HPow.hPow" data-verso-hover="232"> ^ </span>2)</span></span></div></div></span> 
  <span class="tactic"><label for="tactic-state-10528526544137251483-11617-11634"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-11617" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-10528526544137251483-11617-11634"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span></td><td class="colon">:</td><td class="type">(<span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="const token" data-binding="const-Prod" data-verso-hover="70"> × </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span>)<span class="const token" data-binding="const-Prod" data-verso-hover="70"> × </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span><span class="const token" data-binding="const-Prod" data-verso-hover="70"> × </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.593" data-verso-hover="418">h</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span>.1.2<span class="const token" data-binding="const-Ne" data-verso-hover="251"> ≠ </span>0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.5680" data-verso-hover="415">xy</span> =&gt; <span class="var token" data-binding="var-_uniq.5680" data-verso-hover="415">xy</span>.1<span class="const token" data-binding="const-HDiv.hDiv" data-verso-hover="148"> / </span><span class="var token" data-binding="var-_uniq.5680" data-verso-hover="415">xy</span>.2) <span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.5693" data-verso-hover="415">xy</span>:=<span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span>.1), <span class="var token" data-binding="var-_uniq.5693" data-verso-hover="415">xy</span>.1<span class="const token" data-binding="const-HDiv.hDiv" data-verso-hover="148"> / </span><span class="var token" data-binding="var-_uniq.5693" data-verso-hover="415">xy</span>.2) <span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span>.2)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> =
  </span><span class="keyword token" data-binding="">match</span> <span class="var token" data-binding="var-_uniq.471" data-verso-hover="416">xydxy</span>, <span class="var token" data-binding="var-_uniq.593" data-verso-hover="418">h</span> <span class="keyword token" data-binding="">with</span>
  | ((<span class="var token" data-binding="var-_uniq.5772" data-verso-hover="413">x</span>, <span class="var token" data-binding="var-_uniq.5773" data-verso-hover="413">y</span>), <span class="var token" data-binding="var-_uniq.5774" data-verso-hover="413">dx</span>, <span class="var token" data-binding="var-_uniq.5775" data-verso-hover="413">dy</span>), <span class="var token" data-binding="var-_uniq.5776" data-verso-hover="419">h</span> =&gt; (<span class="var token" data-binding="var-_uniq.5705" data-verso-hover="413">x</span><span class="const token" data-binding="const-HDiv.hDiv" data-verso-hover="148"> / </span><span class="var token" data-binding="var-_uniq.5706" data-verso-hover="413">y</span>, (<span class="var token" data-binding="var-_uniq.5707" data-verso-hover="413">dx</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="var token" data-binding="var-_uniq.5706" data-verso-hover="413">y</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.5705" data-verso-hover="413">x</span><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="149"> * </span><span class="var token" data-binding="var-_uniq.5708" data-verso-hover="413">dy</span>)<span class="const token" data-binding="const-HDiv.hDiv" data-verso-hover="148"> / </span><span class="var token" data-binding="var-_uniq.5706" data-verso-hover="413">y</span><span class="const token" data-binding="const-HPow.hPow" data-verso-hover="232"> ^ </span>2)</span></span></div></div></span>
  <span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-11637">fun_trans</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-token.disch-11648">disch</span><span class="unknown token" data-binding="">:=</span><span class="tactic"><label for="tactic-state-7-11655-11662"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.apply-11655" data-verso-hover="420">apply</span> <span class="var token" data-binding="var-_uniq.593" data-verso-hover="418">h</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-11655-11662"><div class="tactic-state">All goals completed! 🐙</div></span><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><p>
              Note that the argument to the theorem is <code>(xydxy : (R×R)×(R×R))</code> instead of <code>(x y dx dy : R)</code>. Not writing the product pattern explicitely as <code>((x,y),(dx,dy))</code> on the left hand side of the rule makes it easier for <code>fun_trans</code> to apply this transformation rule.</p>
            <section>
              <h3 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Function-Theorems--User-Defined-Functions">
                User Defined Functions</h3>
              </section>
            <section>
              <h3 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Function-Theorems--Exercises">
                Exercises</h3>
              <p>
                Define</p>
              </section>
            </section>
          <section>
            <h2 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Free-Variable-Theorems">
              Free Variable Theorems</h2>
            <p>
              Often we can write down a function transformation rule for a whole class of functions at once. The canonical example of this is that the derivative of liner function is the function itself. For <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></code> this is whould be</p>
            <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.open-12249" data-verso-hover="13">open</span> <span class="unknown token" data-binding="">SciLean</span>
<span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-12275">theorem</span> <span class="const token" data-binding="const-fwdFDeriv'.linear_rule" data-verso-hover="421">fwdFDeriv'.linear_rule</span> 
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5162" data-verso-hover="422">hf</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-SciLean.IsContinuousLinearMap" data-verso-hover="423">IsContinuousLinearMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 
    <span class="unknown token" data-binding="">=</span> 
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-12391">fun</span> <span class="var token" data-binding="var-_uniq.5224" data-verso-hover="372">xdx</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.5224" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">,</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.5224" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-12279948692781449651-12424-12426"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-12424" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-12279948692781449651-12424-12426"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5162" data-verso-hover="422">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.IsContinuousLinearMap" data-verso-hover="423">IsContinuousLinearMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span><span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.5852" data-verso-hover="372">xdx</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.5852" data-verso-hover="372">xdx</span>.1, <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.5852" data-verso-hover="372">xdx</span>.2)</span></span></div></div></span> 
  <span class="tactic"><label for="tactic-state-18101489942682014540-12430-12447"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-12430" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-18101489942682014540-12430-12447"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5162" data-verso-hover="422">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.IsContinuousLinearMap" data-verso-hover="423">IsContinuousLinearMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.5851" data-verso-hover="372">xdx</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.5851" data-verso-hover="372">xdx</span>.1, (∂ <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.5851" data-verso-hover="372">xdx</span>.1) <span class="var token" data-binding="var-_uniq.5851" data-verso-hover="372">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.5856" data-verso-hover="372">xdx</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.5856" data-verso-hover="372">xdx</span>.1, <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.5856" data-verso-hover="372">xdx</span>.2)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-12449-12458"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-12449">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-12449-12458"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code><p>
              The characteristic feature of these theorems is that the left hand side of the rule is about a single free variable function <code>f</code> and the theorem has some nontrivial conditions on the function <code>f</code>.</p>
            <p>
              These theorems are potentially dangerous as the left hand side of the theorem can match an arbitrary function. The tactic <code>fun_trans</code> would be incredibly slow if it tried applying these theorems at every step. Therefore "free variable theorems" are applied only in cases when the function that is being transformed can't be written as non-trivial composition of two functions.</p>
            <section>
              <h3 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Free-Variable-Theorems--Exercises">
                Exercises</h3>
              <ol start="1">
                <li>
                  <p>
                    Write down free variable theorem for differentiating affine function.</p>
                  </li>
                </ol>
              <div class="collapsible" onclick="this.classList.toggle('expanded');">
                <div class="collapsible-header">
                  Solution</div>
                <div class="collapsible-content">
                  <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-13162">theorem</span> <span class="const token" data-binding="const-fwdFDeriv'.affine_rule" data-verso-hover="424">fwdFDeriv'.affine_rule</span> 
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 
    <span class="unknown token" data-binding="">=</span> 
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-13289">fun</span> <span class="var token" data-binding="var-_uniq.4274" data-verso-hover="372">xdx</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.4274" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">,</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.4274" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span> <span class="unknown token" data-binding="">-</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="unknown token" data-binding="">0</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-10283784836121581596-13328-13330"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-13328" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-10283784836121581596-13328-13330"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span><span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="372">xdx</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="372">xdx</span>.1, <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="372">xdx</span>.2<span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0)</span></span></div></div></span> 
  <span class="tactic"><label for="tactic-state-13801057191329375078-13334-13351"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-13334" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-13801057191329375078-13334-13351"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28851" data-verso-hover="372">xdx</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28851" data-verso-hover="372">xdx</span>.1, (∂ <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28851" data-verso-hover="372">xdx</span>.1) <span class="var token" data-binding="var-_uniq.28851" data-verso-hover="372">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28856" data-verso-hover="372">xdx</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28856" data-verso-hover="372">xdx</span>.1, <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28856" data-verso-hover="372">xdx</span>.2<span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-13101603696404403611-13353-13366"><span class="keyword token" data-binding="kw-occ-tacticFunext___-13353" data-verso-hover="429">funext</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span><span class="unknown token" data-binding="">,</span><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span><span class="unknown token" data-binding="">)</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-13101603696404403611-13353-13366"><div class="tactic-state"><div class="goal"><details open="open"><summary><span class="goal-name">h</span></summary><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).1, (∂ <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).1) (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).2)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span>(<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).1, <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).2<span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0)</span></span></details></div></div></span>
  <span class="tactic"><label for="tactic-state-14884666757878343773-13369-13398"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticLet_-13369" data-verso-hover="430">let</span> <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-13379">fun</span> <span class="var token" data-binding="var-_uniq.6051" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.6051" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">-</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="unknown token" data-binding="">0</span><span class="unknown token" data-binding="">)</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-14884666757878343773-13369-13398"><div class="tactic-state"><div class="goal"><details open="open"><summary><span class="goal-name">h</span></summary><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).1, (∂ <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).1) (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).2)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span>(<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).1, <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).2<span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0)</span></span></details></div></div></span>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticHave_-13401" data-verso-hover="261">have</span> <span class="var token" data-binding="var-_uniq.12099" data-verso-hover="431">hf''</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-SciLean.IsContinuousLinearMap" data-verso-hover="423">IsContinuousLinearMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-10283784836121581596-13442-13444"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-13442" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-10283784836121581596-13442-13444"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span><span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="372">xdx</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="372">xdx</span>.1, <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="372">xdx</span>.2<span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0)</span></span></div></div></span> 
    <span class="tactic"><label for="tactic-state-11289917065461362892-13450-13486"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-13450" data-verso-hover="196">simp</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.config-13455" data-verso-hover="432">config</span><span class="unknown token" data-binding="">:=</span><span class="unknown token" data-binding="">{</span><span class="const token" data-binding="const-Lean.Meta.Simp.Config.zetaDelta" data-verso-hover="433">zetaDelta</span><span class="unknown token" data-binding="">:=</span><span class="const token" data-binding="const-Bool.true" data-verso-hover="434">true</span><span class="unknown token" data-binding="">}</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">[</span><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-11289917065461362892-13450-13486"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-SciLean.IsContinuousLinearMap" data-verso-hover="423">IsContinuousLinearMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28863" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28863" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</span></span></div></div></span>
    <span class="tactic"><label for="tactic-state-18057884787913399789-13491-13502"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.constructor-13491" data-verso-hover="435">constructor</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-18057884787913399789-13491-13502"><div class="tactic-state"><div class="goal"><details open="open"><summary><span class="goal-name">linear</span></summary><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-IsLinearMap" data-verso-hover="436">IsLinearMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</span></span></details></div><div class="goal"><details><summary><span class="goal-name">cont</span></summary><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-autoParam" data-verso-hover="160">autoParam</span> (<span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0) <span class="const token" data-binding="const-_auto._@.SciLean.Analysis.Normed.IsContinuousLinearMap._hyg.68" data-verso-hover="161">_auto✝</span></span></span></details></div></div></span>
    <span class="tactic"><label for="tactic-state-16052031374275385012-13507-13509"><span class="unknown token" data-binding="">·</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-16052031374275385012-13507-13509"><div class="tactic-state"><div class="goal"><details open="open"><summary><span class="goal-name">linear</span></summary><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-IsLinearMap" data-verso-hover="436">IsLinearMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</span></span></details></div></div></span> <span class="tactic"><label for="tactic-state-7-13510-13520"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.apply-13510" data-verso-hover="420">apply</span> <span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-13510-13520"><div class="tactic-state">All goals completed! 🐙</div></span>
    <span class="tactic"><label for="tactic-state-15410644148762638098-13525-13527"><span class="unknown token" data-binding="">·</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15410644148762638098-13525-13527"><div class="tactic-state"><div class="goal"><details open="open"><summary><span class="goal-name">cont</span></summary><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-autoParam" data-verso-hover="160">autoParam</span> (<span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0) <span class="const token" data-binding="const-_auto._@.SciLean.Analysis.Normed.IsContinuousLinearMap._hyg.68" data-verso-hover="161">_auto✝</span></span></span></details></div></div></span> <span class="tactic"><label for="tactic-state-1909451399741268402-13528-13544"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-13528" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-autoParam" data-verso-hover="160">autoParam</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1909451399741268402-13528-13544"><div class="tactic-state"><div class="goal"><details open="open"><summary><span class="goal-name">cont</span></summary><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</span></span></details></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-13546-13554"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunProp.funPropTacStx-13546" data-verso-hover="301">fun_prop</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-13546-13554"><div class="tactic-state">All goals completed! 🐙</div></span>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.tacticHave_-13557" data-verso-hover="261">have</span> <span class="var token" data-binding="var-_uniq.21783" data-verso-hover="437">h</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="unknown token" data-binding="">=</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-13570">fun</span> <span class="var token" data-binding="var-_uniq.18624" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.18624" data-verso-hover="271">x</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="unknown token" data-binding="">0</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-10283784836121581596-13592-13594"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-13592" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-10283784836121581596-13592-13594"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span><span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="372">xdx</span> =&gt; (<span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="372">xdx</span>.1, <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="372">xdx</span>.2<span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-7-13595-13627"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.simp-13595" data-verso-hover="196">simp</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.config-13600" data-verso-hover="432">config</span><span class="unknown token" data-binding="">:=</span><span class="unknown token" data-binding="">{</span><span class="const token" data-binding="const-Lean.Meta.Simp.Config.zetaDelta" data-verso-hover="433">zetaDelta</span><span class="unknown token" data-binding="">:=</span><span class="const token" data-binding="const-Bool.true" data-verso-hover="434">true</span><span class="unknown token" data-binding="">}</span><span class="unknown token" data-binding="">)</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-13595-13627"><div class="tactic-state">All goals completed! 🐙</div></span>
  <span class="tactic"><label for="tactic-state-2857263757959700944-13630-13635"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-13630" data-verso-hover="438">rw</span><span class="unknown token" data-binding="">[</span><span class="var token" data-binding="var-_uniq.21783" data-verso-hover="437">h</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-2857263757959700944-13630-13635"><div class="tactic-state"><div class="goal"><details open="open"><summary><span class="goal-name">h</span></summary><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12099" data-verso-hover="431">hf''</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.IsContinuousLinearMap" data-verso-hover="423">IsContinuousLinearMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.21783" data-verso-hover="437">h</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span><span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28856" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.28856" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0) (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).1, (∂ (<span class="var token" data-binding="var-_uniq.28873" data-verso-hover="271">x</span>:=(<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).1), (<span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.28873" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0)) (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).2)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> =
  </span>((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28892" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.28892" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0) (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).1, (<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28915" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.28915" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0) (<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>, <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span>).2<span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span>(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28926" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.28926" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0) 0)</span></span></details></div></div></span>
  <span class="tactic"><label for="tactic-state-18291838487140962047-13638-13647"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-13638">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-18291838487140962047-13638-13647"><div class="tactic-state"><div class="goal"><details open="open"><summary><span class="goal-name">h</span></summary><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.171" data-verso-hover="352">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.314" data-verso-hover="379">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="425">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-IsAffineMap" data-verso-hover="426">IsAffineMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.4212" data-verso-hover="427">hf'</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Continuous" data-verso-hover="428">Continuous</span> <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="135">X</span> → <span class="var token" data-binding="var-_uniq.168" data-verso-hover="136">Y</span> := <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12099" data-verso-hover="431">hf''</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.IsContinuousLinearMap" data-verso-hover="423">IsContinuousLinearMap</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.21783" data-verso-hover="437">h</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span><span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span> =&gt; <span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0</td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(∂ (<span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span>:=<span class="var token" data-binding="var-_uniq.5994" data-verso-hover="271">x</span>), (<span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.28852" data-verso-hover="271">x</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.467" data-verso-hover="345">f</span> 0)) <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span><span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> <span class="var token" data-binding="var-_uniq.5995" data-verso-hover="271">dx</span><span class="const token" data-binding="const-HSub.hSub" data-verso-hover="233"> - </span><span class="var token" data-binding="var-_uniq.7728" data-verso-hover="345">g</span> 0</span></span></details></div></div></span> -- this does not seem to work :(
  <span class="tactic"><label for="tactic-state-7-13683-13694"><span class="keyword token" data-binding="kw-occ-SciLean.tacticSorry_proof-13683" data-verso-hover="439">sorry_proof</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-13683-13694"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code></div>
                </div>
              <div class="TODO">
                <p>
                  make the proof trivial i.e. <code>unfold fwdFDeriv' R f; fun_trans</code></p>
                </div>
              </section>
            </section>
          <section>
            <h2 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Morphism-Theorems">
              Morphism Theorems</h2>
            </section>
          <section>
            <h2 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Advanced-Function-Theorems">
              Advanced Function Theorems</h2>
            <section>
              <h3 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Advanced-Function-Theorems--Compositional-form">
                Compositional form</h3>
              <p>
                There is also an alternative way of fomulating function theorems in so called "compositional form". The idea is that we introduce and auxiliary type <code>W</code> and parametrize every of the function with this type. The "compositional form" of negation theorem</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.variable-14117" data-verso-hover="52">variable</span> <span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.466" data-verso-hover="440">W</span><span class="unknown token" data-binding="">}</span> <span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="440">W</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="373">R</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="440">W</span><span class="unknown token" data-binding="">]</span>

<span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-14185">theorem</span> <span class="const token" data-binding="const-Neg.neg.arg_a0.fwdFDeriv'_rule_compositional" data-verso-hover="441">Neg.neg.arg_a0.fwdFDeriv'_rule_compositional</span> 
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1322" data-verso-hover="386">hf</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
    <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-14303">fun</span> <span class="var token" data-binding="var-_uniq.1336" data-verso-hover="443">w</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="unknown token" data-binding="">-</span> <span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.1336" data-verso-hover="443">w</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">=</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-14333">fun</span> <span class="var token" data-binding="var-_uniq.2240" data-verso-hover="444">wdw</span> <span class="unknown token" data-binding="">=&gt;</span> 
      <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-14351" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.2520" data-verso-hover="372">xdx</span> <span class="unknown token" data-binding="">:=</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.2240" data-verso-hover="444">wdw</span>
      <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">-</span><span class="var token" data-binding="var-_uniq.2520" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">-</span><span class="var token" data-binding="var-_uniq.2520" data-verso-hover="372">xdx</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-1233973853140000481-14407-14409"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-14407" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1233973853140000481-14407-14409"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.618" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.624" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.777" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1081" data-verso-hover="445">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1224" data-verso-hover="446">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> → <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1322" data-verso-hover="386">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3845" data-verso-hover="443">w</span> =&gt; <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.3845" data-verso-hover="443">w</span>)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3852" data-verso-hover="444">wdw</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.3853" data-verso-hover="372">xdx</span> := <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.3852" data-verso-hover="444">wdw</span>;
  (<span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.3853" data-verso-hover="372">xdx</span>.1, <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.3853" data-verso-hover="372">xdx</span>.2)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-1707453185909523760-14410-14427"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-14410" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-1707453185909523760-14410-14427"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.618" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.624" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.777" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1081" data-verso-hover="445">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1224" data-verso-hover="446">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> → <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.1322" data-verso-hover="386">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3843" data-verso-hover="444">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3849" data-verso-hover="443">w</span> =&gt; <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.3849" data-verso-hover="443">w</span>) <span class="var token" data-binding="var-_uniq.3843" data-verso-hover="444">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.3856" data-verso-hover="443">w</span>:=<span class="var token" data-binding="var-_uniq.3843" data-verso-hover="444">xdx</span>.1), <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.3856" data-verso-hover="443">w</span>) <span class="var token" data-binding="var-_uniq.3843" data-verso-hover="444">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.3860" data-verso-hover="444">wdw</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.3865" data-verso-hover="372">xdx</span> := (<span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.3860" data-verso-hover="444">wdw</span>.1, (∂ <span class="var token" data-binding="var-_uniq.1228" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.3860" data-verso-hover="444">wdw</span>.1) <span class="var token" data-binding="var-_uniq.3860" data-verso-hover="444">wdw</span>.2);
  (<span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.3865" data-verso-hover="372">xdx</span>.1, <span class="const token" data-binding="const-Neg.neg" data-verso-hover="181">-</span><span class="var token" data-binding="var-_uniq.3865" data-verso-hover="372">xdx</span>.2)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-14429-14438"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-14429">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-14429-14438"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code><p>
                The original form of formulating "function theorems" is called "simple form" or "uncurried form" as for function of multiple arguments has to be uncurried.</p>
              <p>
                In simple cases, it does not really matter which form you use but in more complicated scenarios like dealing with higher order functions the "compositional form" is the only way of formulating the function transformation rules. Also certain function transformations seem to support only "compositional form". At the end of this chapter give an example of such function transformation called <code>vectorize</code>.</p>
              <p>
                The general idea behing the "compositional form" is that we parametrize every argument of the function with some auxiliary type <code>W</code> and then we state the function transformation rule in terms of the argument <code>(w : W)</code>.</p>
              <p>
                The theorem for addition in "simple form" 
This form is also called "uncurried form" as the left hand side contains uncurried version for addition <code>fun (x : X×X) =&gt; x.1 + x.2</code>.</p>
              <p>
                The "compositional form" of this theorem is</p>
              <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><span class="unknown token" data-binding="">fun_trans</span><span class="unknown token" data-binding="">]</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-15471">theorem</span> <span class="const token" data-binding="const-HAdd.hAdd.arg_a0a1.fwdFDeriv'_rule_compositional" data-verso-hover="447">HAdd.hAdd.arg_a0a1.fwdFDeriv'_rule_compositional</span> 
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.714" data-verso-hover="386">hf</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.729" data-verso-hover="387">hg</span> <span class="unknown token" data-binding="">:</span> <span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
    <span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-15621">fun</span> <span class="var token" data-binding="var-_uniq.743" data-verso-hover="443">w</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> <span class="unknown token" data-binding="">=&gt;</span> <span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.743" data-verso-hover="443">w</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span> <span class="var token" data-binding="var-_uniq.743" data-verso-hover="443">w</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">=</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-15655">fun</span> <span class="var token" data-binding="var-_uniq.3058" data-verso-hover="444">xdx</span> <span class="unknown token" data-binding="">=&gt;</span> 
      <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-15673" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.3338" data-verso-hover="372">ydy</span> <span class="unknown token" data-binding="">:=</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.3058" data-verso-hover="444">xdx</span>
      <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-15709" data-verso-hover="78">let</span> <span class="var token" data-binding="var-_uniq.3614" data-verso-hover="372">zdz</span> <span class="unknown token" data-binding="">:=</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span> <span class="var token" data-binding="var-_uniq.3058" data-verso-hover="444">xdx</span>
      <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.3338" data-verso-hover="372">ydy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.3614" data-verso-hover="372">zdz</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">,</span> <span class="var token" data-binding="var-_uniq.3338" data-verso-hover="372">ydy</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.3614" data-verso-hover="372">zdz</span><span class="unknown token" data-binding="">.</span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="tactic"><label for="tactic-state-14998651806591465712-15779-15781"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-15779" data-verso-hover="69">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-14998651806591465712-15779-15781"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.469" data-verso-hover="445">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.612" data-verso-hover="446">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> → <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> → <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.714" data-verso-hover="386">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.729" data-verso-hover="387">hg</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7987" data-verso-hover="443">w</span> =&gt; <span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.7987" data-verso-hover="443">w</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span> <span class="var token" data-binding="var-_uniq.7987" data-verso-hover="443">w</span>)<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.8000" data-verso-hover="444">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.8001" data-verso-hover="372">ydy</span> := <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.8000" data-verso-hover="444">xdx</span>;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.8002" data-verso-hover="372">zdz</span> := <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span> <span class="var token" data-binding="var-_uniq.8000" data-verso-hover="444">xdx</span>;
  (<span class="var token" data-binding="var-_uniq.8001" data-verso-hover="372">ydy</span>.1<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.8002" data-verso-hover="372">zdz</span>.1, <span class="var token" data-binding="var-_uniq.8001" data-verso-hover="372">ydy</span>.2<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.8002" data-verso-hover="372">zdz</span>.2)</span></span></div></div></span> <span class="tactic"><label for="tactic-state-9250040159349572222-15782-15799"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.unfold-15782" data-verso-hover="246">unfold</span> <span class="const token" data-binding="const-fwdFDeriv'" data-verso-hover="371">fwdFDeriv'</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-9250040159349572222-15782-15799"><div class="tactic-state"><div class="goal"><table class="hypotheses"><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_1</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="374">inst✝⁴</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-SciLean.RealScalar" data-verso-hover="375">RealScalar</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_3</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.12" data-verso-hover="273">inst✝³</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.165" data-verso-hover="377">inst✝²</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td><td class="colon">:</td><td class="type"><span class="sort token" data-binding="">Type u_2</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.469" data-verso-hover="445">inst✝¹</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedAddCommGroup" data-verso-hover="266">NormedAddCommGroup</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.612" data-verso-hover="446">inst✝</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-NormedSpace" data-verso-hover="343">NormedSpace</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> → <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span></td><td class="colon">:</td><td class="type"><span class="var token" data-binding="var-_uniq.466" data-verso-hover="135">W</span> → <span class="var token" data-binding="var-_uniq.9" data-verso-hover="136">X</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.714" data-verso-hover="386">hf</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span></td></tr><tr class="hypothesis"><td class="name"><span class="var token" data-binding="var-_uniq.729" data-verso-hover="387">hg</span></td><td class="colon">:</td><td class="type"><span class="const token" data-binding="const-Differentiable" data-verso-hover="278">Differentiable</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="134">R</span> <span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span></td></tr></table><span class="conclusion"><span class="prefix">⊢ </span><span class="type">(<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7985" data-verso-hover="444">xdx</span> =&gt; ((<span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.7991" data-verso-hover="443">w</span> =&gt; <span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.7991" data-verso-hover="443">w</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span> <span class="var token" data-binding="var-_uniq.7991" data-verso-hover="443">w</span>) <span class="var token" data-binding="var-_uniq.7985" data-verso-hover="444">xdx</span>.1, (∂ (<span class="var token" data-binding="var-_uniq.8004" data-verso-hover="443">w</span>:=<span class="var token" data-binding="var-_uniq.7985" data-verso-hover="444">xdx</span>.1), (<span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.8004" data-verso-hover="443">w</span><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span> <span class="var token" data-binding="var-_uniq.8004" data-verso-hover="443">w</span>)) <span class="var token" data-binding="var-_uniq.7985" data-verso-hover="444">xdx</span>.2))<span class="const token" data-binding="const-Eq" data-verso-hover="71"> = </span><span class="keyword token" data-binding="">fun</span> <span class="var token" data-binding="var-_uniq.8011" data-verso-hover="444">xdx</span> =&gt;
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.8016" data-verso-hover="372">ydy</span> := (<span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.8011" data-verso-hover="444">xdx</span>.1, (∂ <span class="var token" data-binding="var-_uniq.616" data-verso-hover="442">f</span> <span class="var token" data-binding="var-_uniq.8011" data-verso-hover="444">xdx</span>.1) <span class="var token" data-binding="var-_uniq.8011" data-verso-hover="444">xdx</span>.2);
  <span class="keyword token" data-binding="">let</span> <span class="var token" data-binding="var-_uniq.8021" data-verso-hover="372">zdz</span> := (<span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span> <span class="var token" data-binding="var-_uniq.8011" data-verso-hover="444">xdx</span>.1, (∂ <span class="var token" data-binding="var-_uniq.620" data-verso-hover="442">g</span> <span class="var token" data-binding="var-_uniq.8011" data-verso-hover="444">xdx</span>.1) <span class="var token" data-binding="var-_uniq.8011" data-verso-hover="444">xdx</span>.2);
  (<span class="var token" data-binding="var-_uniq.8016" data-verso-hover="372">ydy</span>.1<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.8021" data-verso-hover="372">zdz</span>.1, <span class="var token" data-binding="var-_uniq.8016" data-verso-hover="372">ydy</span>.2<span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="152"> + </span><span class="var token" data-binding="var-_uniq.8021" data-verso-hover="372">zdz</span>.2)</span></span></div></div></span><span class="unknown token" data-binding="">;</span> <span class="tactic"><label for="tactic-state-7-15801-15810"><span class="keyword token" data-binding="kw-occ-Mathlib.Meta.FunTrans.funTransTacStx-15801">fun_trans</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-15801-15810"><div class="tactic-state">All goals completed! 🐙</div></span>
<span class="unknown token" data-binding=""></span></code></section>
            <section>
              <h3 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Advanced-Function-Theorems--High-Order-Functions">
                High Order Functions</h3>
              </section>
            <section>
              <h3 id="Scientific-Computing-in-Lean---Differentiation--Function-Transformation--Advanced-Function-Theorems--Recursive-Functions">
                Recursive Functions</h3>
              </section>
            </section>
          </section>
        </main></div>
    </body>
  </html>

