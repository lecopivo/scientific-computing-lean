@media print {
    /* Get rid of frames emulation, which breaks printing */
    .with-toc {
        display: block;
        height: unset;
    }
    .with-toc > * {
        grid-area: unset;
    }
    .with-toc > header {
        display: none;
    }
    #toc {
        display: none;
    }

    /* Improve layout on paper*/
    h1, h2, h3, h4, h5, h6, summary {
        break-after: avoid-page;
    }
    main > section > section {
        break-before: page;
    }
    p {
        orphans: 3;
        widows: 3;
    }
}